var SBTCPayments=(function(Xe){"use strict";function No(t,e){return tn(pe(t),e)}function pe(t){if(typeof t=="bigint")return t;if(typeof t=="string")return BigInt(t);if(typeof t=="number"){if(!Number.isInteger(t))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(t>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(t)}if(be(t,Uint8Array))return BigInt(`0x${q(t)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function jo(t){return/^0x/i.test(t)?t.slice(2):t}function Je(t,e=8){return(typeof t=="bigint"?t:pe(t)).toString(16).padStart(e*2,"0")}function tr(t){return parseInt(t,16)}function tn(t,e=16){const n=Je(t,e);return nt(n)}function Do(t,e){if(t<-(BigInt(1)<<e-BigInt(1))||(BigInt(1)<<e-BigInt(1))-BigInt(1)<t)throw`Unable to represent integer in width: ${e}`;return t>=BigInt(0)?BigInt(t):t+(BigInt(1)<<e)}function $o(t,e){return t&BigInt(1)<<e}function en(t){return Co(BigInt(`0x${q(t)}`),BigInt(t.byteLength*8))}function Co(t,e){return $o(t,e-BigInt(1))?t-(BigInt(1)<<e):t}const Bo=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function q(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const n of t)e+=Bo[n];return e}function nt(t){if(typeof t!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof t}`);t=jo(t),t=t.length%2?`0${t}`:t;const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,s=t.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[n]=o}return e}function Tt(t){return new TextEncoder().encode(t)}function nn(t){return new TextDecoder().decode(t)}function er(t){const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return new Uint8Array(e)}function Uo(t){return String.fromCharCode.apply(null,t)}function To(t){return!Number.isInteger(t)||t<0||t>255}function nr(t){if(t.some(To))throw new Error("Some values are invalid bytes.");return new Uint8Array(t)}function rn(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const o=t[r];n.set(o,s),s+=o.length}return n}function at(t){return rn(...t.map(e=>typeof e=="number"?nr([e]):e instanceof Array?nr(e):e))}function be(t,e){return t instanceof e||t?.constructor?.name?.toLowerCase()===e.name}const Oo="https://api.mainnet.hiro.so",_o="https://api.testnet.hiro.so",ko="http://localhost:3999";function zo(t,e){return(t[e+0]<<8|t[e+1])>>>0}function Po(t,e){return t[e]}function Ho(t,e){return t[e]*16777216+t[e+1]*65536+t[e+2]*256+t[e+3]}function xe(t,e,n=0){return t[n+3]=e,e>>>=8,t[n+2]=e,e>>>=8,t[n+1]=e,e>>>=8,t[n]=e,t}const Fo={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function Ro(t,e){const n={};return Object.assign(n,Fo,e),await fetch(t,n)}function Go(t){let e=Ro,n=[];return t.length>0&&typeof t[0]=="function"&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n}}function Yo(...t){const{fetchLib:e,middlewares:n}=Go(t);return async(s,o)=>{let i={url:s,init:o??{}};for(const l of n)typeof l.pre=="function"&&(i=await Promise.resolve(l.pre({fetch:e,...i}))??i);let a=await e(i.url,i.init);for(const l of n)typeof l.post=="function"&&(a=await Promise.resolve(l.post({fetch:e,url:i.url,init:i.init,response:a?.clone()??a}))??a);return a}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zo(t,...e){if(!rr(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sr(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Jt(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function sn(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function on(t){if(!Array.isArray(t))throw new Error("array expected")}function ye(t,e){if(!sr(!0,e))throw new Error(`${t}: array of strings expected`)}function Qo(t,e){if(!sr(!1,e))throw new Error(`${t}: array of numbers expected`)}function Vo(...t){const e=o=>o,n=(o,i)=>a=>o(i(a)),r=t.map(o=>o.encode).reduceRight(n,e),s=t.map(o=>o.decode).reduce(n,e);return{encode:r,decode:s}}function qo(t){const e=typeof t=="string"?t.split(""):t,n=e.length;ye("alphabet",e);const r=new Map(e.map((s,o)=>[s,o]));return{encode:s=>(on(s),s.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${t}`);return e[o]})),decode:s=>(on(s),s.map(o=>{Jt("alphabet.decode",o);const i=r.get(o);if(i===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${t}`);return i}))}}function Wo(t=""){return Jt("join",t),{encode:e=>(ye("join.decode",e),e.join(t)),decode:e=>(Jt("join.decode",e),e.split(t))}}function Ko(t,e="="){return sn(t),Jt("padding",e),{encode(n){for(ye("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){ye("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const or=(t,e)=>e===0?t:or(e,t%e),me=(t,e)=>t+(e-or(t,e)),cn=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function ir(t,e,n,r){if(on(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(me(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${me(e,n)}`);let s=0,o=0;const i=cn[e],a=cn[n]-1,l=[];for(const u of t){if(sn(u),u>=i)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(s=s<<e|u,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)l.push((s>>o-n&a)>>>0);const f=cn[o];if(f===void 0)throw new Error("invalid carry");s&=f-1}if(s=s<<n-o&a,!r&&o>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&o>0&&l.push(s>>>0),l}function Xo(t,e=!1){if(sn(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(me(8,t)>32||me(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!rr(n))throw new Error("radix2.encode input should be Uint8Array");return ir(Array.from(n),8,t,!e)},decode:n=>(Qo("radix2.decode",n),Uint8Array.from(ir(n,t,8,e)))}}const Jo=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",ti=(t,e)=>{Jt("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},cr=Jo?{encode(t){return Zo(t),t.toBase64()},decode(t){return ti(t)}}:Vo(Xo(6),qo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ko(6),Wo("")),ar="STX_PROVIDER",ei=()=>typeof window>"u"?null:window.localStorage.getItem(ar),ni=t=>{typeof window<"u"&&window.localStorage.setItem(ar,t)},ri=()=>{if(typeof window>"u")return[];const t=window.webbtc_stx_providers||[],e=window.wbip_providers||[];return[...t,...e]},si=(t=[])=>{if(typeof window>"u")return[];const e=ri(),n=t.filter(r=>e.find(o=>o.id===r.id)?!1:!!an(r.id));return e.concat(n)},oi=()=>{const t=ei();return an(t)},an=t=>t?.split(".").reduce((e,n)=>e?.[n],window),ii="connect-ui";let Ae,lr,V=!1,ln=!1;const lt=(t,e="")=>()=>{},ci=(t,e)=>()=>{},ai="{visibility:hidden}.hydrated{visibility:inherit}",ur={},li="http://www.w3.org/2000/svg",ui="http://www.w3.org/1999/xhtml",fi=t=>t!=null,un=t=>(t=typeof t,t==="object"||t==="function");function fr(t){var e,n,r;return(r=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&r!==void 0?r:void 0}const $=(t,e,...n)=>{let r=null,s=!1,o=!1;const i=[],a=u=>{for(let f=0;f<u.length;f++)r=u[f],Array.isArray(r)?a(r):r!=null&&typeof r!="boolean"&&((s=typeof t!="function"&&!un(r))&&(r=String(r)),s&&o?i[i.length-1].$text$+=r:i.push(s?fn(null,r):r),o=s)};if(a(n),e){const u=e.className||e.class;u&&(e.class=typeof u!="object"?u:Object.keys(u).filter(f=>u[f]).join(" "))}const l=fn(t,null);return l.$attrs$=e,i.length>0&&(l.$children$=i),l},fn=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n},di={},hi=t=>t&&t.$tag$===di,gi=(t,e)=>(t!=null&&!un(t),t),wi=t=>Ot(t).$hostElement$,pi=(t,e,n)=>{const r=G.ce(e,n);return t.dispatchEvent(r),r},dr=new WeakMap,bi=(t,e,n)=>{let r=Me.get(t);_i&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Me.set(t,r)},xi=(t,e,n,r)=>{var s;let o=hr(e);const i=Me.get(o);if(t=t.nodeType===11?t:rt,i)if(typeof i=="string"){t=t.head||t;let a=dr.get(t),l;if(a||dr.set(t,a=new Set),!a.has(o)){{l=rt.createElement("style"),l.innerHTML=i;const u=(s=G.$nonce$)!==null&&s!==void 0?s:fr(rt);u!=null&&l.setAttribute("nonce",u),t.insertBefore(l,t.querySelector("link"))}a&&a.add(o)}}else t.adoptedStyleSheets.includes(i)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,i]);return o},yi=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,s=lt("attachStyles",e.$tagName$),o=xi(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);r&10&&(n["s-sc"]=o,n.classList.add(o+"-h")),s()},hr=(t,e)=>"sc-"+t.$tagName$,gr=(t,e,n,r,s,o)=>{if(n!==r){let i=Mr(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,u=wr(n),f=wr(r);l.remove(...u.filter(d=>d&&!f.includes(d))),l.add(...f.filter(d=>d&&!u.includes(d)))}else if(!i&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):Mr(Se,a)?e=a.slice(2):e=a[2]+e.slice(3),n&&G.rel(t,e,n,!1),r&&G.ael(t,e,r,!1);else{const l=un(r);if((i||l&&r!==null)&&!s)try{if(t.tagName.includes("-"))t[e]=r;else{const u=r??"";e==="list"?i=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch{}r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&t.removeAttribute(e):(!i||o&4||s)&&!l&&(r=r===!0?"":r,t.setAttribute(e,r))}}},mi=/\s/,wr=t=>t?t.split(mi):[],pr=(t,e,n,r)=>{const s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||ur,i=e.$attrs$||ur;for(r in o)r in i||gr(s,r,o[r],void 0,n,e.$flags$);for(r in i)gr(s,r,o[r],i[r],n,e.$flags$)},dn=(t,e,n,r)=>{const s=e.$children$[n];let o=0,i,a;if(s.$text$!==null)i=s.$elm$=rt.createTextNode(s.$text$);else{if(V||(V=s.$tag$==="svg"),i=s.$elm$=rt.createElementNS(V?li:ui,s.$tag$),V&&s.$tag$==="foreignObject"&&(V=!1),pr(null,s,V),fi(Ae)&&i["s-si"]!==Ae&&i.classList.add(i["s-si"]=Ae),s.$children$)for(o=0;o<s.$children$.length;++o)a=dn(t,s,o),a&&i.appendChild(a);s.$tag$==="svg"?V=!1:i.tagName==="foreignObject"&&(V=!0)}return i},br=(t,e,n,r,s,o)=>{let i=t,a;for(i.shadowRoot&&i.tagName===lr&&(i=i.shadowRoot);s<=o;++s)r[s]&&(a=dn(null,n,s),a&&(r[s].$elm$=a,i.insertBefore(a,e)))},xr=(t,e,n,r,s)=>{for(;e<=n;++e)(r=t[e])&&(s=r.$elm$,s.remove())},Ai=(t,e,n,r)=>{let s=0,o=0,i=e.length-1,a=e[0],l=e[i],u=r.length-1,f=r[0],d=r[u],g;for(;s<=i&&o<=u;)a==null?a=e[++s]:l==null?l=e[--i]:f==null?f=r[++o]:d==null?d=r[--u]:Ie(a,f)?(te(a,f),a=e[++s],f=r[++o]):Ie(l,d)?(te(l,d),l=e[--i],d=r[--u]):Ie(a,d)?(te(a,d),t.insertBefore(a.$elm$,l.$elm$.nextSibling),a=e[++s],d=r[--u]):Ie(l,f)?(te(l,f),t.insertBefore(l.$elm$,a.$elm$),l=e[--i],f=r[++o]):(g=dn(e&&e[o],n,o),f=r[++o],g&&a.$elm$.parentNode.insertBefore(g,a.$elm$));s>i?br(t,r[u+1]==null?null:r[u+1].$elm$,n,r,o,u):o>u&&xr(e,s,i)},Ie=(t,e)=>t.$tag$===e.$tag$,te=(t,e)=>{const n=e.$elm$=t.$elm$,r=t.$children$,s=e.$children$,o=e.$tag$,i=e.$text$;i===null?(V=o==="svg"?!0:o==="foreignObject"?!1:V,pr(t,e,V),r!==null&&s!==null?Ai(n,r,e,s):s!==null?(t.$text$!==null&&(n.textContent=""),br(n,null,e,s,0,s.length-1)):r!==null&&xr(r,0,r.length-1),V&&o==="svg"&&(V=!1)):t.$text$!==i&&(n.data=i)},Ii=(t,e)=>{const n=t.$hostElement$,r=t.$vnode$||fn(null,null),s=hi(e)?e:$(null,null,e);lr=n.tagName,s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=r.$elm$=n.shadowRoot||n,Ae=n["s-sc"],te(r,s)},yr=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(n=>t.$onRenderResolve$=n))},hn=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return yr(t,t.$ancestorComponent$),zi(()=>Mi(t,e))},Mi=(t,e)=>{const n=lt("scheduleUpdate",t.$cmpMeta$.$tagName$),r=t.$lazyInstance$;let s;return n(),Li(s,()=>Si(t,r,e))},Si=async(t,e,n)=>{const r=t.$hostElement$,s=lt("update",t.$cmpMeta$.$tagName$),o=r["s-rc"];n&&yi(t);const i=lt("render",t.$cmpMeta$.$tagName$);vi(t,e),o&&(o.map(a=>a()),r["s-rc"]=void 0),i(),s();{const a=r["s-p"],l=()=>Ei(t);a.length===0?l():(Promise.all(a).then(l),t.$flags$|=4,a.length=0)}},vi=(t,e,n)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,Ii(t,e)}catch(r){ee(r,t.$hostElement$)}return null},Ei=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=lt("postUpdate",e),s=t.$ancestorComponent$;t.$flags$&64?r():(t.$flags$|=64,Ar(n),r(),t.$onReadyResolve$(n),s||mr()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&bn(()=>hn(t,!1)),t.$flags$&=-517},mr=t=>{Ar(rt.documentElement),bn(()=>pi(Se,"appload",{detail:{namespace:ii}}))},Li=(t,e)=>t&&t.then?t.then(e):e(),Ar=t=>t.classList.add("hydrated"),Ni=(t,e)=>Ot(t).$instanceValues$.get(e),ji=(t,e,n,r)=>{const s=Ot(t),o=s.$instanceValues$.get(e),i=s.$flags$,a=s.$lazyInstance$;n=gi(n);const l=Number.isNaN(o)&&Number.isNaN(n),u=n!==o&&!l;(!(i&8)||o===void 0)&&u&&(s.$instanceValues$.set(e,n),a&&(i&18)===2&&hn(s,!1))},Ir=(t,e,n)=>{if(e.$members$){const r=Object.entries(e.$members$),s=t.prototype;r.map(([o,[i]])=>{(i&31||n&2&&i&32)&&Object.defineProperty(s,o,{get(){return Ni(this,o)},set(a){ji(this,o,a)},configurable:!0,enumerable:!0})})}return t},Di=async(t,e,n,r,s)=>{if((e.$flags$&32)===0){{if(e.$flags$|=32,s=Oi(n),s.then){const l=ci();s=await s,l()}s.isProxied||(Ir(s,n,2),s.isProxied=!0);const a=lt("createInstance",n.$tagName$);e.$flags$|=8;try{new s(e)}catch(l){ee(l)}e.$flags$&=-9,a()}if(s.style){let a=s.style;const l=hr(n);if(!Me.has(l)){const u=lt("registerStyles",n.$tagName$);bi(l,a,!!(n.$flags$&1)),u()}}}const o=e.$ancestorComponent$,i=()=>hn(e,!0);o&&o["s-rc"]?o["s-rc"].push(i):i()},$i=t=>{if((G.$flags$&1)===0){const e=Ot(t),n=e.$cmpMeta$,r=lt("connectedCallback",n.$tagName$);if(!(e.$flags$&1)){e.$flags$|=1;{let s=t;for(;s=s.parentNode||s.host;)if(s["s-p"]){yr(e,e.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[o]])=>{if(o&31&&t.hasOwnProperty(s)){const i=t[s];delete t[s],t[s]=i}}),Di(t,e,n)}r()}},Ci=t=>{(G.$flags$&1)===0&&Ot(t)},Bi=(t,e={})=>{var n;const r=lt(),s=[],o=e.exclude||[],i=Se.customElements,a=rt.head,l=a.querySelector("meta[charset]"),u=rt.createElement("style"),f=[];let d,g=!0;Object.assign(G,e),G.$resourcesUrl$=new URL(e.resourcesUrl||"./",rt.baseURI).href,t.map(w=>{w[1].map(b=>{const y={$flags$:b[0],$tagName$:b[1],$members$:b[2],$listeners$:b[3]};y.$members$=b[2];const I=y.$tagName$,L=class extends HTMLElement{constructor(j){super(j),j=this,Ti(j,y),y.$flags$&1&&j.attachShadow({mode:"open"})}connectedCallback(){d&&(clearTimeout(d),d=null),g?f.push(this):G.jmp(()=>$i(this))}disconnectedCallback(){G.jmp(()=>Ci(this))}componentOnReady(){return Ot(this).$onReadyPromise$}};y.$lazyBundleId$=w[0],!o.includes(I)&&!i.get(I)&&(s.push(I),i.define(I,Ir(L,y,1)))})});{u.innerHTML=s+ai,u.setAttribute("data-styles","");const w=(n=G.$nonce$)!==null&&n!==void 0?n:fr(rt);w!=null&&u.setAttribute("nonce",w),a.insertBefore(u,l?l.nextSibling:a.firstChild)}g=!1,f.length?f.map(w=>w.connectedCallback()):G.jmp(()=>d=setTimeout(mr,30)),r()},gn=new WeakMap,Ot=t=>gn.get(t),Ui=(t,e)=>gn.set(e.$lazyInstance$=t,e),Ti=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onReadyPromise$=new Promise(r=>n.$onReadyResolve$=r),t["s-p"]=[],t["s-rc"]=[],gn.set(t,n)},Mr=(t,e)=>e in t,ee=(t,e)=>(0,console.error)(t,e),wn=new Map,Oi=(t,e,n)=>{const r=t.$tagName$.replace(/-/g,"_"),s=t.$lazyBundleId$,o=wn.get(s);if(o)return o[r];{const i=a=>(wn.set(s,a),a[r]);switch(s){case"connect-modal":return Promise.resolve().then(()=>gl).then(i,ee)}}return import(`./${s}.entry.js`).then(i=>(wn.set(s,i),i[r]),ee)},Me=new Map,Se=typeof window<"u"?window:{},rt=Se.document||{head:{}},G={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},Sr=t=>Promise.resolve(t),_i=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),vr=[],Er=[],ki=(t,e)=>n=>{t.push(n),ln||(ln=!0,G.$flags$&4?bn(pn):G.raf(pn))},Lr=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){ee(n)}t.length=0},pn=()=>{Lr(vr),Lr(Er),(ln=vr.length>0)&&G.raf(pn)},bn=t=>Sr().then(t),zi=ki(Er),Pi=()=>Sr(),Hi=(t,e)=>typeof window>"u"?Promise.resolve():Pi().then(()=>Bi([["connect-modal",[[1,"connect-modal",{defaultProviders:[16],installedProviders:[16],callback:[16],cancelCallback:[16]}]]]],e));(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();function Fi(t){const e=Object.values(t).filter(r=>typeof r=="number"),n=new Set(e);return r=>n.has(r)}const Nr=new Map;function jr(t,e){const n=Nr.get(t);if(n!==void 0)return n(e);const r=Fi(t);return Nr.set(t,r),jr(t,e)}class _t{constructor(e){this.consumed=0,this.source=typeof e=="string"?nt(e):e}readBytes(e){const n=this.source.subarray(this.consumed,this.consumed+e);return this.consumed+=e,n}readUInt32BE(){return Ho(this.readBytes(4),0)}readUInt8(){return Po(this.readBytes(1),0)}readUInt16BE(){return zo(this.readBytes(2),0)}readBigUIntLE(e){const n=this.readBytes(e).slice().reverse(),r=q(n);return BigInt(`0x${r}`)}readBigUIntBE(e){const n=this.readBytes(e),r=q(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(e){this.consumed=e}get internalBytes(){return this.source}readUInt8Enum(e,n){const r=this.readUInt8();if(jr(e,r))return r;throw n(r)}}var ne;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Testnet=2147483648]="Testnet"})(ne||(ne={}));var ve;(function(t){t[t.Mainnet=385875968]="Mainnet",t[t.Testnet=4278190080]="Testnet"})(ve||(ve={})),ne.Mainnet;var re;(function(t){t[t.Mainnet=0]="Mainnet",t[t.Testnet=128]="Testnet"})(re||(re={}));var kt;(function(t){t[t.MainnetSingleSig=22]="MainnetSingleSig",t[t.MainnetMultiSig=20]="MainnetMultiSig",t[t.TestnetSingleSig=26]="TestnetSingleSig",t[t.TestnetMultiSig=21]="TestnetMultiSig"})(kt||(kt={})),re.Mainnet;const Dr={chainId:ne.Mainnet,transactionVersion:re.Mainnet,peerNetworkId:ve.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:kt.MainnetSingleSig,multiSig:kt.MainnetMultiSig},client:{baseUrl:Oo}},Ee={chainId:ne.Testnet,transactionVersion:re.Testnet,peerNetworkId:ve.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:kt.TestnetSingleSig,multiSig:kt.TestnetMultiSig},client:{baseUrl:_o}},Le={...Ee,addressVersion:{...Ee.addressVersion},magicBytes:"id",client:{baseUrl:ko}},Ri={...Le,addressVersion:{...Le.addressVersion},client:{...Le.client}};function Gi(t){switch(t){case"mainnet":return Dr;case"testnet":return Ee;case"devnet":return Le;case"mocknet":return Ri;default:throw new Error(`Unknown network name: ${t}`)}}function Yi(t){return typeof t=="string"?Gi(t):t}function Zi(t){return t.client.fetch?t.client:{...t.client,fetch:Yo()}}const Qi=128,Vi=128,$r=16;var Cr;(function(t){t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.VersionedSmartContract=6]="VersionedSmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase",t[t.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",t[t.TenureChange=7]="TenureChange",t[t.NakamotoCoinbase=8]="NakamotoCoinbase"})(Cr||(Cr={}));var Br;(function(t){t[t.Clarity1=1]="Clarity1",t[t.Clarity2=2]="Clarity2",t[t.Clarity3=3]="Clarity3"})(Br||(Br={}));var J;(function(t){t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any"})(J||(J={}));const xn=["onChainOnly","offChainOnly","any"];xn[0]+"",J.OnChainOnly,xn[1]+"",J.OffChainOnly,xn[2]+"",J.Any,J.OnChainOnly+"",J.OnChainOnly,J.OffChainOnly+"",J.OffChainOnly,J.Any+"",J.Any;var Ur;(function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"})(Ur||(Ur={}));var st;(function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"})(st||(st={}));var Tr;(function(t){t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored"})(Tr||(Tr={}));var Or;(function(t){t[t.P2PKH=0]="P2PKH",t[t.P2SH=1]="P2SH",t[t.P2WPKH=2]="P2WPKH",t[t.P2WSH=3]="P2WSH",t[t.P2SHNonSequential=5]="P2SHNonSequential",t[t.P2WSHNonSequential=7]="P2WSHNonSequential"})(Or||(Or={}));var _r;(function(t){t[t.Compressed=0]="Compressed",t[t.Uncompressed=1]="Uncompressed"})(_r||(_r={}));var kr;(function(t){t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual"})(kr||(kr={}));var zr;(function(t){t[t.Sends=16]="Sends",t[t.DoesNotSend=17]="DoesNotSend"})(zr||(zr={}));var ot;(function(t){t[t.Origin=1]="Origin",t[t.Standard=2]="Standard",t[t.Contract=3]="Contract"})(ot||(ot={}));var Pr;(function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"})(Pr||(Pr={}));var Hr;(function(t){t[t.BlockFound=0]="BlockFound",t[t.Extended=1]="Extended"})(Hr||(Hr={}));var Fr;(function(t){t[t.PublicKeyCompressed=0]="PublicKeyCompressed",t[t.PublicKeyUncompressed=1]="PublicKeyUncompressed",t[t.SignatureCompressed=2]="SignatureCompressed",t[t.SignatureUncompressed=3]="SignatureUncompressed"})(Fr||(Fr={}));var Rr;(function(t){t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.ServerFailureDatabase="ServerFailureDatabase",t.ServerFailureOther="ServerFailureOther"})(Rr||(Rr={}));class Gr extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Yr extends Gr{constructor(e){super(e)}}class yn extends Gr{constructor(e){super(e)}}function mn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function qi(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Zr(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Wi(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");mn(t.outputLen),mn(t.blockLen)}function Ki(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Xi(t,e){Zr(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const An={number:mn,bool:qi,bytes:Zr,hash:Wi,exists:Ki,output:Xi};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const In=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),it=(t,e)=>t<<32-e|t>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ji(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Qr(t){if(typeof t=="string"&&(t=Ji(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class tc{clone(){return this._cloneInto()}}function St(t){const e=r=>t().update(Qr(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ec(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),l=r?4:0,u=r?0:4;t.setUint32(e+l,i,r),t.setUint32(e+u,a,r)}class Mn extends tc{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=In(this.buffer)}update(e){An.exists(this);const{view:n,buffer:r,blockLen:s}=this;e=Qr(e);const o=e.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const l=In(e);for(;s<=o-i;i+=s)this.process(l,i);continue}r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){An.exists(this),An.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;ec(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=In(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return e.length=s,e.pos=a,e.finished=o,e.destroyed=i,s%n&&e.buffer.set(r),e}}const nc=(t,e,n)=>t&e^~t&n,rc=(t,e,n)=>t&e^t&n^e&n,sc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt=new Uint32Array(64);class Vr extends Mn{constructor(){super(64,32,8,!1),this.A=pt[0]|0,this.B=pt[1]|0,this.C=pt[2]|0,this.D=pt[3]|0,this.E=pt[4]|0,this.F=pt[5]|0,this.G=pt[6]|0,this.H=pt[7]|0}get(){const{A:e,B:n,C:r,D:s,E:o,F:i,G:a,H:l}=this;return[e,n,r,s,o,i,a,l]}set(e,n,r,s,o,i,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)bt[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const g=bt[d-15],w=bt[d-2],b=it(g,7)^it(g,18)^g>>>3,y=it(w,17)^it(w,19)^w>>>10;bt[d]=y+bt[d-7]+b+bt[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:l,G:u,H:f}=this;for(let d=0;d<64;d++){const g=it(a,6)^it(a,11)^it(a,25),w=f+g+nc(a,l,u)+sc[d]+bt[d]|0,y=(it(r,2)^it(r,13)^it(r,22))+rc(r,s,o)|0;f=u,u=l,l=a,a=i+w|0,i=o,o=s,s=r,r=w+y|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,l,u,f)}roundClean(){bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class oc extends Vr{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}St(()=>new Vr),St(()=>new oc);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const U=BigInt(0),k=BigInt(1),xt=BigInt(2),Ne=BigInt(3),qr=BigInt(8),P=Object.freeze({a:U,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:k,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Wr=(t,e)=>(t+e/xt)/e,je={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=P,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-k*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Wr(o*t,e),l=Wr(-r*t,e);let u=S(t-a*n-l*s,e),f=S(-a*r-l*o,e);const d=u>i,g=f>i;if(d&&(u=e-u),g&&(f=e-f),u>i||f>i)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:g,k2:f}}},zt=32,Sn=32,Kr=zt+1,Xr=2*zt+1;function Jr(t){const{a:e,b:n}=P,r=S(t*t),s=S(r*t);return S(s+e*t+n)}const De=P.a===U;function ts(t){if(!(t instanceof T))throw new TypeError("JacobianPoint expected")}class T{constructor(e,n,r){this.x=e,this.y=n,this.z=r}static fromAffine(e){if(!(e instanceof H))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(H.ZERO)?T.ZERO:new T(e.x,e.y,k)}static toAffineBatch(e){const n=uc(e.map(r=>r.z));return e.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(e){return T.toAffineBatch(e).map(T.fromAffine)}equals(e){ts(e);const{x:n,y:r,z:s}=this,{x:o,y:i,z:a}=e,l=S(s*s),u=S(a*a),f=S(n*u),d=S(o*l),g=S(S(r*a)*u),w=S(S(i*s)*l);return f===d&&g===w}negate(){return new T(this.x,S(-this.y),this.z)}double(){const{x:e,y:n,z:r}=this,s=S(e*e),o=S(n*n),i=S(o*o),a=e+o,l=S(xt*(S(a*a)-s-i)),u=S(Ne*s),f=S(u*u),d=S(f-xt*l),g=S(u*(l-d)-qr*i),w=S(xt*n*r);return new T(d,g,w)}add(e){ts(e);const{x:n,y:r,z:s}=this,{x:o,y:i,z:a}=e;if(o===U||i===U)return this;if(n===U||r===U)return e;const l=S(s*s),u=S(a*a),f=S(n*u),d=S(o*l),g=S(S(r*a)*u),w=S(S(i*s)*l),b=S(d-f),y=S(w-g);if(b===U)return y===U?this.double():T.ZERO;const I=S(b*b),L=S(b*I),j=S(f*I),E=S(y*y-L-xt*j),x=S(y*(j-E)-g*L),A=S(s*a*b);return new T(E,x,A)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=T.ZERO;if(typeof e=="bigint"&&e===U)return n;let r=ss(e);if(r===k)return this;if(!De){let d=n,g=this;for(;r>U;)r&k&&(d=d.add(g)),g=g.double(),r>>=k;return d}let{k1neg:s,k1:o,k2neg:i,k2:a}=je.splitScalar(r),l=n,u=n,f=this;for(;o>U||a>U;)o&k&&(l=l.add(f)),a&k&&(u=u.add(f)),f=f.double(),o>>=k,a>>=k;return s&&(l=l.negate()),i&&(u=u.negate()),u=new T(S(u.x*je.beta),u.y,u.z),l.add(u)}precomputeWindow(e){const n=De?128/e+1:256/e+1,r=[];let s=this,o=s;for(let i=0;i<n;i++){o=s,r.push(o);for(let a=1;a<2**(e-1);a++)o=o.add(s),r.push(o);s=o.double()}return r}wNAF(e,n){!n&&this.equals(T.BASE)&&(n=H.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&vn.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=T.normalizeZ(s),vn.set(n,s)));let o=T.ZERO,i=T.BASE;const a=1+(De?128/r:256/r),l=2**(r-1),u=BigInt(2**r-1),f=2**r,d=BigInt(r);for(let g=0;g<a;g++){const w=g*l;let b=Number(e&u);e>>=d,b>l&&(b-=f,e+=k);const y=w,I=w+Math.abs(b)-1,L=g%2!==0,j=b<0;b===0?i=i.add($e(L,s[y])):o=o.add($e(j,s[I]))}return{p:o,f:i}}multiply(e,n){let r=ss(e),s,o;if(De){const{k1neg:i,k1:a,k2neg:l,k2:u}=je.splitScalar(r);let{p:f,f:d}=this.wNAF(a,n),{p:g,f:w}=this.wNAF(u,n);f=$e(i,f),g=$e(l,g),g=new T(S(g.x*je.beta),g.y,g.z),s=f.add(g),o=d.add(w)}else{const{p:i,f:a}=this.wNAF(r,n);s=i,o=a}return T.normalizeZ([s,o])[0]}toAffine(e){const{x:n,y:r,z:s}=this,o=this.equals(T.ZERO);e==null&&(e=o?qr:En(s));const i=e,a=S(i*i),l=S(a*i),u=S(n*a),f=S(r*l),d=S(s*i);if(o)return H.ZERO;if(d!==k)throw new Error("invZ was invalid");return new H(u,f)}}T.BASE=new T(P.Gx,P.Gy,k),T.ZERO=new T(U,k,U);function $e(t,e){const n=e.negate();return t?n:e}const vn=new WeakMap;class H{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,vn.delete(this)}hasEvenY(){return this.y%xt===U}static fromCompressedHex(e){const n=e.length===32,r=Pt(n?e:e.subarray(1));if(!Ln(r))throw new Error("Point is not on curve");const s=Jr(r);let o=lc(s);const i=(o&k)===k;n?i&&(o=S(-o)):(e[0]&1)===1!==i&&(o=S(-o));const a=new H(r,o);return a.assertValidity(),a}static fromUncompressedHex(e){const n=Pt(e.subarray(1,zt+1)),r=Pt(e.subarray(zt+1,zt*2+1)),s=new H(n,r);return s.assertValidity(),s}static fromHex(e){const n=rs(e),r=n.length,s=n[0];if(r===zt)return this.fromCompressedHex(n);if(r===Kr&&(s===2||s===3))return this.fromCompressedHex(n);if(r===Xr&&s===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Kr} compressed bytes or ${Xr} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return H.BASE.multiply(hc(e))}static fromSignature(e,n,r){const{r:s,s:o}=gc(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const i=dc(rs(e)),{n:a}=P,l=r===2||r===3?s+a:s,u=En(l,a),f=S(-i*u,a),d=S(o*u,a),g=r&1?"03":"02",w=H.fromHex(g+oe(l)),b=H.BASE.multiplyAndAddUnsafe(w,f,d);if(!b)throw new Error("Cannot recover signature: point at infinify");return b.assertValidity(),b}toRawBytes(e=!1){return ce(this.toHex(e))}toHex(e=!1){const n=oe(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${oe(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:r}=this;if(!Ln(n)||!Ln(r))throw new Error(e);const s=S(r*r),o=Jr(n);if(S(s-o)!==U)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new H(this.x,S(-this.y))}double(){return T.fromAffine(this).double().toAffine()}add(e){return T.fromAffine(this).add(T.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return T.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,r){const s=T.fromAffine(this),o=n===U||n===k||this!==H.BASE?s.multiplyUnsafe(n):s.multiply(n),i=T.fromAffine(e).multiplyUnsafe(r),a=o.add(i);return a.equals(T.ZERO)?void 0:a.toAffine()}}H.BASE=new H(P.Gx,P.Gy),H.ZERO=new H(U,U);function es(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function ns(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${se(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Pt(n),left:t.subarray(e+2)}}function ic(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${se(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=ns(t.subarray(2)),{data:r,left:s}=ns(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${se(s)}`);return{r:e,s:r}}class vt{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,r="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=n?se(e):e;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new vt(Ce(s.slice(0,64)),Ce(s.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=ic(n?e:ce(e));return new vt(r,s)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!Be(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Be(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=P.n>>k;return this.s>e}normalizeS(){return this.hasHighS()?new vt(this.r,S(-this.s,P.n)):this}toDERRawBytes(){return ce(this.toDERHex())}toDERHex(){const e=es(ie(this.s)),n=es(ie(this.r)),r=e.length/2,s=n.length/2,o=ie(r),i=ie(s);return`30${ie(s+r+4)}02${i}${n}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ce(this.toCompactHex())}toCompactHex(){return oe(this.r)+oe(this.s)}}const cc=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function se(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=cc[t[n]];return e}const ac=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function oe(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(U<=t&&t<ac))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function ie(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Ce(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function ce(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,s=t.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[n]=o}return e}function Pt(t){return Ce(se(t))}function rs(t){return t instanceof Uint8Array?Uint8Array.from(t):ce(t)}function ss(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Be(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function S(t,e=P.P){const n=t%e;return n>=U?n:e+n}function W(t,e){const{P:n}=P;let r=t;for(;e-- >U;)r*=r,r%=n;return r}function lc(t){const{P:e}=P,n=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),i=BigInt(44),a=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=W(u,Ne)*u%e,d=W(f,Ne)*u%e,g=W(d,xt)*l%e,w=W(g,r)*g%e,b=W(w,s)*w%e,y=W(b,i)*b%e,I=W(y,a)*y%e,L=W(I,i)*b%e,j=W(L,Ne)*u%e,E=W(j,o)*w%e,x=W(E,n)*l%e,A=W(x,xt);if(A*A%e!==t)throw new Error("Cannot find square root");return A}function En(t,e=P.P){if(t===U||e<=U)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=S(t,e),r=e,s=U,o=k;for(;n!==U;){const a=r/n,l=r%n,u=s-o*a;r=n,n=l,s=o,o=u}if(r!==k)throw new Error("invert: does not exist");return S(s,e)}function uc(t,e=P.P){const n=new Array(t.length),r=t.reduce((o,i,a)=>i===U?o:(n[a]=o,S(o*i,e)),k),s=En(r,e);return t.reduceRight((o,i,a)=>i===U?o:(n[a]=S(o*n[a],e),S(o*i,e)),s),n}function fc(t){const e=t.length*8-Sn*8,n=Pt(t);return e>0?n>>BigInt(e):n}function dc(t,e=!1){const n=fc(t);if(e)return n;const{n:r}=P;return n>=r?n-r:n}function Be(t){return U<t&&t<P.n}function Ln(t){return U<t&&t<P.P}function hc(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Sn)throw new Error("Expected 32 bytes of private key");e=Ce(t)}else if(t instanceof Uint8Array){if(t.length!==Sn)throw new Error("Expected 32 bytes of private key");e=Pt(t)}else throw new TypeError("Expected valid private key");if(!Be(e))throw new Error("Expected private key: 0 < key < n");return e}function gc(t){if(t instanceof vt)return t.assertValidity(),t;try{return vt.fromDER(t)}catch{return vt.fromCompact(t)}}H.BASE._setWindowSize(8);var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nn={},jn={},Dn={},ae={},os;function wc(){return os||(os=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.crypto=void 0,ae.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}),ae}var is;function Ht(){return is||(is=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=wc(),n=x=>new Uint8Array(x.buffer,x.byteOffset,x.byteLength);t.u8=n;const r=x=>new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4));t.u32=r;const s=x=>new DataView(x.buffer,x.byteOffset,x.byteLength);t.createView=s;const o=(x,A)=>x<<32-A|x>>>A;if(t.rotr=o,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},(x,A)=>A.toString(16).padStart(2,"0"));function a(x){if(!(x instanceof Uint8Array))throw new Error("Uint8Array expected");let A="";for(let N=0;N<x.length;N++)A+=i[x[N]];return A}t.bytesToHex=a;function l(x){if(typeof x!="string")throw new TypeError("hexToBytes: expected string, got "+typeof x);if(x.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const A=new Uint8Array(x.length/2);for(let N=0;N<A.length;N++){const B=N*2,D=x.slice(B,B+2),O=Number.parseInt(D,16);if(Number.isNaN(O)||O<0)throw new Error("Invalid byte sequence");A[N]=O}return A}t.hexToBytes=l;const u=async()=>{};t.nextTick=u;async function f(x,A,N){let B=Date.now();for(let D=0;D<x;D++){N(D);const O=Date.now()-B;O>=0&&O<A||(await(0,t.nextTick)(),B+=O)}}t.asyncLoop=f;function d(x){if(typeof x!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof x}`);return new TextEncoder().encode(x)}t.utf8ToBytes=d;function g(x){if(typeof x=="string"&&(x=d(x)),!(x instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof x})`);return x}t.toBytes=g;function w(...x){if(!x.every(B=>B instanceof Uint8Array))throw new Error("Uint8Array list expected");if(x.length===1)return x[0];const A=x.reduce((B,D)=>B+D.length,0),N=new Uint8Array(A);for(let B=0,D=0;B<x.length;B++){const O=x[B];N.set(O,D),D+=O.length}return N}t.concatBytes=w;class b{clone(){return this._cloneInto()}}t.Hash=b;const y=x=>Object.prototype.toString.call(x)==="[object Object]"&&x.constructor===Object;function I(x,A){if(A!==void 0&&(typeof A!="object"||!y(A)))throw new TypeError("Options should be object or undefined");return Object.assign(x,A)}t.checkOpts=I;function L(x){const A=B=>x().update(g(B)).digest(),N=x();return A.outputLen=N.outputLen,A.blockLen=N.blockLen,A.create=()=>x(),A}t.wrapConstructor=L;function j(x){const A=(B,D)=>x(D).update(g(B)).digest(),N=x({});return A.outputLen=N.outputLen,A.blockLen=N.blockLen,A.create=B=>x(B),A}t.wrapConstructorWithOpts=j;function E(x=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(x));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(x).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=E})(Dn)),Dn}var cs;function as(){return cs||(cs=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.c32decode=t.c32normalize=t.c32encode=t.c32=void 0;const e=Ht();t.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(i,a){if(!i.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");i.length%2!==0&&(i=`0${i}`),i=i.toLowerCase();let l=[],u=0;for(let w=i.length-1;w>=0;w--)if(u<4){const b=n.indexOf(i[w])>>u;let y=0;w!==0&&(y=n.indexOf(i[w-1]));const I=1+u,L=y%(1<<I)<<5-I,j=t.c32[b+L];u=I,l.unshift(j)}else u=0;let f=0;for(let w=0;w<l.length&&l[w]==="0";w++)f++;l=l.slice(f);const d=new TextDecoder().decode((0,e.hexToBytes)(i)).match(/^\u0000*/),g=d?d[0].length:0;for(let w=0;w<g;w++)l.unshift(t.c32[0]);if(a){const w=a-l.length;for(let b=0;b<w;b++)l.unshift(t.c32[0])}return l.join("")}t.c32encode=r;function s(i){return i.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}t.c32normalize=s;function o(i,a){if(i=s(i),!i.match(`^[${t.c32}]*$`))throw new Error("Not a c32-encoded string");const l=i.match(`^${t.c32[0]}*`),u=l?l[0].length:0;let f=[],d=0,g=0;for(let y=i.length-1;y>=0;y--){g===4&&(f.unshift(n[d]),g=0,d=0);const L=(t.c32.indexOf(i[y])<<g)+d,j=n[L%16];if(g+=1,d=L>>4,d>1<<g)throw new Error("Panic error in decoding.");f.unshift(j)}f.unshift(n[d]),f.length%2===1&&f.unshift("0");let w=0;for(let y=0;y<f.length&&f[y]==="0";y++)w++;f=f.slice(w-w%2);let b=f.join("");for(let y=0;y<u;y++)b=`00${b}`;if(a){const y=a*2-b.length;for(let I=0;I<y;I+=2)b=`00${b}`}return b}t.c32decode=o})(jn)),jn}var Et={},Lt={},le={},R={},ls;function pc(){if(ls)return R;ls=1,Object.defineProperty(R,"__esModule",{value:!0}),R.output=R.exists=R.hash=R.bytes=R.bool=R.number=void 0;function t(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}R.number=t;function e(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}R.bool=e;function n(a,...l){if(!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length>0&&!l.includes(a.length))throw new TypeError(`Expected Uint8Array of length ${l}, not of length=${a.length}`)}R.bytes=n;function r(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(a.outputLen),t(a.blockLen)}R.hash=r;function s(a,l=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(l&&a.finished)throw new Error("Hash#digest() has already been called")}R.exists=s;function o(a,l){n(a);const u=l.outputLen;if(a.length<u)throw new Error(`digestInto() expects output buffer of length at least ${u}`)}R.output=o;const i={number:t,bool:e,bytes:n,hash:r,exists:s,output:o};return R.default=i,R}var us;function bc(){if(us)return le;us=1,Object.defineProperty(le,"__esModule",{value:!0}),le.SHA2=void 0;const t=pc(),e=Ht();function n(s,o,i,a){if(typeof s.setBigUint64=="function")return s.setBigUint64(o,i,a);const l=BigInt(32),u=BigInt(4294967295),f=Number(i>>l&u),d=Number(i&u),g=a?4:0,w=a?0:4;s.setUint32(o+g,f,a),s.setUint32(o+w,d,a)}class r extends e.Hash{constructor(o,i,a,l){super(),this.blockLen=o,this.outputLen=i,this.padOffset=a,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=(0,e.createView)(this.buffer)}update(o){t.default.exists(this);const{view:i,buffer:a,blockLen:l}=this;o=(0,e.toBytes)(o);const u=o.length;for(let f=0;f<u;){const d=Math.min(l-this.pos,u-f);if(d===l){const g=(0,e.createView)(o);for(;l<=u-f;f+=l)this.process(g,f);continue}a.set(o.subarray(f,f+d),this.pos),this.pos+=d,f+=d,this.pos===l&&(this.process(i,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){t.default.exists(this),t.default.output(o,this),this.finished=!0;const{buffer:i,view:a,blockLen:l,isLE:u}=this;let{pos:f}=this;i[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>l-f&&(this.process(a,0),f=0);for(let y=f;y<l;y++)i[y]=0;n(a,l-8,BigInt(this.length*8),u),this.process(a,0);const d=(0,e.createView)(o),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=g/4,b=this.get();if(w>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<w;y++)d.setUint32(4*y,b[y],u)}digest(){const{buffer:o,outputLen:i}=this;this.digestInto(o);const a=o.slice(0,i);return this.destroy(),a}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:i,buffer:a,length:l,finished:u,destroyed:f,pos:d}=this;return o.length=l,o.pos=d,o.finished=u,o.destroyed=f,l%i&&o.buffer.set(a),o}}return le.SHA2=r,le}var fs;function ds(){if(fs)return Lt;fs=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.sha224=Lt.sha256=void 0;const t=bc(),e=Ht(),n=(u,f,d)=>u&f^~u&d,r=(u,f,d)=>u&f^u&d^f&d,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint32Array(64);class a extends t.SHA2{constructor(){super(64,32,8,!1),this.A=o[0]|0,this.B=o[1]|0,this.C=o[2]|0,this.D=o[3]|0,this.E=o[4]|0,this.F=o[5]|0,this.G=o[6]|0,this.H=o[7]|0}get(){const{A:f,B:d,C:g,D:w,E:b,F:y,G:I,H:L}=this;return[f,d,g,w,b,y,I,L]}set(f,d,g,w,b,y,I,L){this.A=f|0,this.B=d|0,this.C=g|0,this.D=w|0,this.E=b|0,this.F=y|0,this.G=I|0,this.H=L|0}process(f,d){for(let x=0;x<16;x++,d+=4)i[x]=f.getUint32(d,!1);for(let x=16;x<64;x++){const A=i[x-15],N=i[x-2],B=(0,e.rotr)(A,7)^(0,e.rotr)(A,18)^A>>>3,D=(0,e.rotr)(N,17)^(0,e.rotr)(N,19)^N>>>10;i[x]=D+i[x-7]+B+i[x-16]|0}let{A:g,B:w,C:b,D:y,E:I,F:L,G:j,H:E}=this;for(let x=0;x<64;x++){const A=(0,e.rotr)(I,6)^(0,e.rotr)(I,11)^(0,e.rotr)(I,25),N=E+A+n(I,L,j)+s[x]+i[x]|0,D=((0,e.rotr)(g,2)^(0,e.rotr)(g,13)^(0,e.rotr)(g,22))+r(g,w,b)|0;E=j,j=L,L=I,I=y+N|0,y=b,b=w,w=g,g=N+D|0}g=g+this.A|0,w=w+this.B|0,b=b+this.C|0,y=y+this.D|0,I=I+this.E|0,L=L+this.F|0,j=j+this.G|0,E=E+this.H|0,this.set(g,w,b,y,I,L,j,E)}roundClean(){i.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends a{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return Lt.sha256=(0,e.wrapConstructor)(()=>new a),Lt.sha224=(0,e.wrapConstructor)(()=>new l),Lt}var hs;function gs(){if(hs)return Et;hs=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.c32checkDecode=Et.c32checkEncode=void 0;const t=ds(),e=Ht(),n=as();function r(i){const a=(0,t.sha256)((0,t.sha256)((0,e.hexToBytes)(i)));return(0,e.bytesToHex)(a.slice(0,4))}function s(i,a){if(i<0||i>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!a.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");a=a.toLowerCase(),a.length%2!==0&&(a=`0${a}`);let l=i.toString(16);l.length===1&&(l=`0${l}`);const u=r(`${l}${a}`),f=(0,n.c32encode)(`${a}${u}`);return`${n.c32[i]}${f}`}Et.c32checkEncode=s;function o(i){i=(0,n.c32normalize)(i);const a=(0,n.c32decode)(i.slice(1)),l=i[0],u=n.c32.indexOf(l),f=a.slice(-8);let d=u.toString(16);if(d.length===1&&(d=`0${d}`),r(`${d}${a.substring(0,a.length-8)}`)!==f)throw new Error("Invalid c32check string: checksum mismatch");return[u,a.substring(0,a.length-8)]}return Et.c32checkDecode=o,Et}var $n={},Nt={},Cn,ws;function xc(){if(ws)return Cn;ws=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),i=o.charCodeAt(0);if(n[i]!==255)throw new TypeError(o+" is ambiguous");n[i]=s}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var y=0,I=0,L=0,j=b.length;L!==j&&b[L]===0;)L++,y++;for(var E=(j-L)*f+1>>>0,x=new Uint8Array(E);L!==j;){for(var A=b[L],N=0,B=E-1;(A!==0||N<I)&&B!==-1;B--,N++)A+=256*x[B]>>>0,x[B]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");I=N,L++}for(var D=E-I;D!==E&&x[D]===0;)D++;for(var O=l.repeat(y);D<E;++D)O+=e.charAt(x[D]);return O}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var y=0,I=0,L=0;b[y]===l;)I++,y++;for(var j=(b.length-y)*u+1>>>0,E=new Uint8Array(j);b[y];){var x=b.charCodeAt(y);if(x>255)return;var A=n[x];if(A===255)return;for(var N=0,B=j-1;(A!==0||N<L)&&B!==-1;B--,N++)A+=a*E[B]>>>0,E[B]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");L=N,y++}for(var D=j-L;D!==j&&E[D]===0;)D++;for(var O=new Uint8Array(I+(j-D)),dt=I;D!==j;)O[dt++]=E[D++];return O}function w(b){var y=g(b);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:d,decodeUnsafe:g,decode:w}}return Cn=t,Cn}var ps;function yc(){if(ps)return Nt;ps=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.decode=Nt.encode=void 0;const t=ds(),e=Ht(),n=xc(),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function s(i,a="00"){const l=typeof i=="string"?(0,e.hexToBytes)(i):i,u=typeof a=="string"?(0,e.hexToBytes)(a):i;if(!(l instanceof Uint8Array)||!(u instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const f=(0,t.sha256)((0,t.sha256)(new Uint8Array([...u,...l])));return n(r).encode([...u,...l,...f.slice(0,4)])}Nt.encode=s;function o(i){const a=n(r).decode(i),l=a.slice(0,1),u=a.slice(1,-4),f=(0,t.sha256)((0,t.sha256)(new Uint8Array([...l,...u])));return a.slice(-4).forEach((d,g)=>{if(d!==f[g])throw new Error("Invalid checksum")}),{prefix:l,data:u}}return Nt.decode=o,Nt}var bs;function mc(){return bs||(bs=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.c32ToB58=t.b58ToC32=t.c32addressDecode=t.c32address=t.versions=void 0;const e=gs(),n=yc(),r=Ht();t.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=t.versions.mainnet.p2pkh,s[5]=t.versions.mainnet.p2sh,s[111]=t.versions.testnet.p2pkh,s[196]=t.versions.testnet.p2sh;const o={};o[t.versions.mainnet.p2pkh]=0,o[t.versions.mainnet.p2sh]=5,o[t.versions.testnet.p2pkh]=111,o[t.versions.testnet.p2sh]=196;function i(f,d){if(!d.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,e.c32checkEncode)(f,d)}`}t.c32address=i;function a(f){if(f.length<=5)throw new Error("Invalid c32 address: invalid length");if(f[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,e.c32checkDecode)(f.slice(1))}t.c32addressDecode=a;function l(f,d=-1){const g=n.decode(f),w=(0,r.bytesToHex)(g.data),b=parseInt((0,r.bytesToHex)(g.prefix),16);let y;return d<0?(y=b,s[b]!==void 0&&(y=s[b])):y=d,i(y,w)}t.b58ToC32=l;function u(f,d=-1){const g=a(f),w=g[0],b=g[1];let y;d<0?(y=w,o[w]!==void 0&&(y=o[w])):y=d;let I=y.toString(16);return I.length===1&&(I=`0${I}`),n.encode(b,I)}t.c32ToB58=u})($n)),$n}var xs;function Ac(){return xs||(xs=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.b58ToC32=t.c32ToB58=t.versions=t.c32normalize=t.c32addressDecode=t.c32address=t.c32checkDecode=t.c32checkEncode=t.c32decode=t.c32encode=void 0;const e=as();Object.defineProperty(t,"c32encode",{enumerable:!0,get:function(){return e.c32encode}}),Object.defineProperty(t,"c32decode",{enumerable:!0,get:function(){return e.c32decode}}),Object.defineProperty(t,"c32normalize",{enumerable:!0,get:function(){return e.c32normalize}});const n=gs();Object.defineProperty(t,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(t,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=mc();Object.defineProperty(t,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(t,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(t,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(t,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(t,"versions",{enumerable:!0,get:function(){return r.versions}})})(Nn)),Nn}var ys=Ac();const Ic=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ms=Uint8Array.from({length:16},(t,e)=>e),Mc=ms.map(t=>(9*t+5)%16);let Bn=[ms],Un=[Mc];for(let t=0;t<4;t++)for(let e of[Bn,Un])e.push(e[t].map(n=>Ic[n]));const As=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Sc=Bn.map((t,e)=>t.map(n=>As[e][n])),vc=Un.map((t,e)=>t.map(n=>As[e][n])),Ec=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Lc=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Te=(t,e)=>t<<e|t>>>32-e;function Is(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}const Oe=new Uint32Array(16);class Nc extends Mn{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:r,h3:s,h4:o}=this;return[e,n,r,s,o]}set(e,n,r,s,o){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=o|0}process(e,n){for(let w=0;w<16;w++,n+=4)Oe[w]=e.getUint32(n,!0);let r=this.h0|0,s=r,o=this.h1|0,i=o,a=this.h2|0,l=a,u=this.h3|0,f=u,d=this.h4|0,g=d;for(let w=0;w<5;w++){const b=4-w,y=Ec[w],I=Lc[w],L=Bn[w],j=Un[w],E=Sc[w],x=vc[w];for(let A=0;A<16;A++){const N=Te(r+Is(w,o,a,u)+Oe[L[A]]+y,E[A])+d|0;r=d,d=u,u=Te(a,10)|0,a=o,o=N}for(let A=0;A<16;A++){const N=Te(s+Is(b,i,l,f)+Oe[j[A]]+I,x[A])+g|0;s=g,g=f,f=Te(l,10)|0,l=i,i=N}}this.set(this.h1+a+f|0,this.h2+u+g|0,this.h3+d+s|0,this.h4+r+i|0,this.h0+o+l|0)}roundClean(){Oe.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}St(()=>new Nc);const _e=BigInt(2**32-1),Tn=BigInt(32);function Ms(t,e=!1){return e?{h:Number(t&_e),l:Number(t>>Tn&_e)}:{h:Number(t>>Tn&_e)|0,l:Number(t&_e)|0}}function jc(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:i}=Ms(t[s],e);[n[s],r[s]]=[o,i]}return[n,r]}const Dc=(t,e)=>BigInt(t>>>0)<<Tn|BigInt(e>>>0),$c=(t,e,n)=>t>>>n,Cc=(t,e,n)=>t<<32-n|e>>>n,Bc=(t,e,n)=>t>>>n|e<<32-n,Uc=(t,e,n)=>t<<32-n|e>>>n,Tc=(t,e,n)=>t<<64-n|e>>>n-32,Oc=(t,e,n)=>t>>>n-32|e<<64-n,_c=(t,e)=>e,kc=(t,e)=>t,zc=(t,e,n)=>t<<n|e>>>32-n,Pc=(t,e,n)=>e<<n|t>>>32-n,Hc=(t,e,n)=>e<<n-32|t>>>64-n,Fc=(t,e,n)=>t<<n-32|e>>>64-n;function Rc(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/4294967296|0)|0,l:s|0}}const C={fromBig:Ms,split:jc,toBig:Dc,shrSH:$c,shrSL:Cc,rotrSH:Bc,rotrSL:Uc,rotrBH:Tc,rotrBL:Oc,rotr32H:_c,rotr32L:kc,rotlSH:zc,rotlSL:Pc,rotlBH:Hc,rotlBL:Fc,add:Rc,add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,add5H:(t,e,n,r,s,o)=>e+n+r+s+o+(t/2**32|0)|0,add5L:(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},[Gc,Yc]=C.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),yt=new Uint32Array(80),mt=new Uint32Array(80);class ke extends Mn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:o,Cl:i,Dh:a,Dl:l,Eh:u,El:f,Fh:d,Fl:g,Gh:w,Gl:b,Hh:y,Hl:I}=this;return[e,n,r,s,o,i,a,l,u,f,d,g,w,b,y,I]}set(e,n,r,s,o,i,a,l,u,f,d,g,w,b,y,I){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=g|0,this.Gh=w|0,this.Gl=b|0,this.Hh=y|0,this.Hl=I|0}process(e,n){for(let E=0;E<16;E++,n+=4)yt[E]=e.getUint32(n),mt[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const x=yt[E-15]|0,A=mt[E-15]|0,N=C.rotrSH(x,A,1)^C.rotrSH(x,A,8)^C.shrSH(x,A,7),B=C.rotrSL(x,A,1)^C.rotrSL(x,A,8)^C.shrSL(x,A,7),D=yt[E-2]|0,O=mt[E-2]|0,dt=C.rotrSH(D,O,19)^C.rotrBH(D,O,61)^C.shrSH(D,O,6),Qt=C.rotrSL(D,O,19)^C.rotrBL(D,O,61)^C.shrSL(D,O,6),$t=C.add4L(B,Qt,mt[E-7],mt[E-16]),Vt=C.add4H($t,N,dt,yt[E-7],yt[E-16]);yt[E]=Vt|0,mt[E]=$t|0}let{Ah:r,Al:s,Bh:o,Bl:i,Ch:a,Cl:l,Dh:u,Dl:f,Eh:d,El:g,Fh:w,Fl:b,Gh:y,Gl:I,Hh:L,Hl:j}=this;for(let E=0;E<80;E++){const x=C.rotrSH(d,g,14)^C.rotrSH(d,g,18)^C.rotrBH(d,g,41),A=C.rotrSL(d,g,14)^C.rotrSL(d,g,18)^C.rotrBL(d,g,41),N=d&w^~d&y,B=g&b^~g&I,D=C.add5L(j,A,B,Yc[E],mt[E]),O=C.add5H(D,L,x,N,Gc[E],yt[E]),dt=D|0,Qt=C.rotrSH(r,s,28)^C.rotrBH(r,s,34)^C.rotrBH(r,s,39),$t=C.rotrSL(r,s,28)^C.rotrBL(r,s,34)^C.rotrBL(r,s,39),Vt=r&o^r&a^o&a,Ye=s&i^s&l^i&l;L=y|0,j=I|0,y=w|0,I=b|0,w=d|0,b=g|0,{h:d,l:g}=C.add(u|0,f|0,O|0,dt|0),u=a|0,f=l|0,a=o|0,l=i|0,o=r|0,i=s|0;const he=C.add3L(dt,$t,Ye);r=C.add3H(he,O,Qt,Vt),s=he|0}({h:r,l:s}=C.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:i}=C.add(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l}=C.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:f}=C.add(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l:g}=C.add(this.Eh|0,this.El|0,d|0,g|0),{h:w,l:b}=C.add(this.Fh|0,this.Fl|0,w|0,b|0),{h:y,l:I}=C.add(this.Gh|0,this.Gl|0,y|0,I|0),{h:L,l:j}=C.add(this.Hh|0,this.Hl|0,L|0,j|0),this.set(r,s,o,i,a,l,u,f,d,g,w,b,y,I,L,j)}roundClean(){yt.fill(0),mt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Zc extends ke{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Qc extends ke{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Vc extends ke{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}St(()=>new ke),St(()=>new Zc),St(()=>new Qc),St(()=>new Vc);var ue={exports:{}};ue.exports;var Ss;function qc(){return Ss||(Ss=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",f="[object Function]",d="[object GeneratorFunction]",g="[object Map]",w="[object Number]",b="[object Object]",y="[object Promise]",I="[object RegExp]",L="[object Set]",j="[object String]",E="[object Symbol]",x="[object WeakMap]",A="[object ArrayBuffer]",N="[object DataView]",B="[object Float32Array]",D="[object Float64Array]",O="[object Int8Array]",dt="[object Int16Array]",Qt="[object Int32Array]",$t="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Ye="[object Uint16Array]",he="[object Uint32Array]",wl=/[\\^$.*+?()[\]{}|]/g,pl=/\w*$/,bl=/^\[object .+?Constructor\]$/,xl=/^(?:0|[1-9]\d*)$/,_={};_[o]=_[i]=_[A]=_[N]=_[a]=_[l]=_[B]=_[D]=_[O]=_[dt]=_[Qt]=_[g]=_[w]=_[b]=_[I]=_[L]=_[j]=_[E]=_[$t]=_[Vt]=_[Ye]=_[he]=!0,_[u]=_[f]=_[x]=!1;var yl=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,ml=typeof self=="object"&&self&&self.Object===Object&&self,ht=yl||ml||Function("return this")(),eo=e&&!e.nodeType&&e,no=eo&&!0&&t&&!t.nodeType&&t,Al=no&&no.exports===eo;function Il(c,h){return c.set(h[0],h[1]),c}function Ml(c,h){return c.add(h),c}function Sl(c,h){for(var p=-1,v=c?c.length:0;++p<v&&h(c[p],p,c)!==!1;);return c}function vl(c,h){for(var p=-1,v=h.length,F=c.length;++p<v;)c[F+p]=h[p];return c}function ro(c,h,p,v){for(var F=-1,Z=c?c.length:0;++F<Z;)p=h(p,c[F],F,c);return p}function El(c,h){for(var p=-1,v=Array(c);++p<c;)v[p]=h(p);return v}function Ll(c,h){return c?.[h]}function so(c){var h=!1;if(c!=null&&typeof c.toString!="function")try{h=!!(c+"")}catch{}return h}function oo(c){var h=-1,p=Array(c.size);return c.forEach(function(v,F){p[++h]=[F,v]}),p}function Rn(c,h){return function(p){return c(h(p))}}function io(c){var h=-1,p=Array(c.size);return c.forEach(function(v){p[++h]=v}),p}var Nl=Array.prototype,jl=Function.prototype,Ze=Object.prototype,Gn=ht["__core-js_shared__"],co=(function(){var c=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""})(),ao=jl.toString,Mt=Ze.hasOwnProperty,Qe=Ze.toString,Dl=RegExp("^"+ao.call(Mt).replace(wl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lo=Al?ht.Buffer:void 0,uo=ht.Symbol,fo=ht.Uint8Array,$l=Rn(Object.getPrototypeOf,Object),Cl=Object.create,Bl=Ze.propertyIsEnumerable,Ul=Nl.splice,ho=Object.getOwnPropertySymbols,Tl=lo?lo.isBuffer:void 0,Ol=Rn(Object.keys,Object),Yn=Kt(ht,"DataView"),ge=Kt(ht,"Map"),Zn=Kt(ht,"Promise"),Qn=Kt(ht,"Set"),Vn=Kt(ht,"WeakMap"),we=Kt(Object,"create"),_l=Ut(Yn),kl=Ut(ge),zl=Ut(Zn),Pl=Ut(Qn),Hl=Ut(Vn),go=uo?uo.prototype:void 0,wo=go?go.valueOf:void 0;function Ct(c){var h=-1,p=c?c.length:0;for(this.clear();++h<p;){var v=c[h];this.set(v[0],v[1])}}function Fl(){this.__data__=we?we(null):{}}function Rl(c){return this.has(c)&&delete this.__data__[c]}function Gl(c){var h=this.__data__;if(we){var p=h[c];return p===r?void 0:p}return Mt.call(h,c)?h[c]:void 0}function Yl(c){var h=this.__data__;return we?h[c]!==void 0:Mt.call(h,c)}function Zl(c,h){var p=this.__data__;return p[c]=we&&h===void 0?r:h,this}Ct.prototype.clear=Fl,Ct.prototype.delete=Rl,Ct.prototype.get=Gl,Ct.prototype.has=Yl,Ct.prototype.set=Zl;function gt(c){var h=-1,p=c?c.length:0;for(this.clear();++h<p;){var v=c[h];this.set(v[0],v[1])}}function Ql(){this.__data__=[]}function Vl(c){var h=this.__data__,p=Ve(h,c);if(p<0)return!1;var v=h.length-1;return p==v?h.pop():Ul.call(h,p,1),!0}function ql(c){var h=this.__data__,p=Ve(h,c);return p<0?void 0:h[p][1]}function Wl(c){return Ve(this.__data__,c)>-1}function Kl(c,h){var p=this.__data__,v=Ve(p,c);return v<0?p.push([c,h]):p[v][1]=h,this}gt.prototype.clear=Ql,gt.prototype.delete=Vl,gt.prototype.get=ql,gt.prototype.has=Wl,gt.prototype.set=Kl;function qt(c){var h=-1,p=c?c.length:0;for(this.clear();++h<p;){var v=c[h];this.set(v[0],v[1])}}function Xl(){this.__data__={hash:new Ct,map:new(ge||gt),string:new Ct}}function Jl(c){return qe(this,c).delete(c)}function tu(c){return qe(this,c).get(c)}function eu(c){return qe(this,c).has(c)}function nu(c,h){return qe(this,c).set(c,h),this}qt.prototype.clear=Xl,qt.prototype.delete=Jl,qt.prototype.get=tu,qt.prototype.has=eu,qt.prototype.set=nu;function Wt(c){this.__data__=new gt(c)}function ru(){this.__data__=new gt}function su(c){return this.__data__.delete(c)}function ou(c){return this.__data__.get(c)}function iu(c){return this.__data__.has(c)}function cu(c,h){var p=this.__data__;if(p instanceof gt){var v=p.__data__;if(!ge||v.length<n-1)return v.push([c,h]),this;p=this.__data__=new qt(v)}return p.set(c,h),this}Wt.prototype.clear=ru,Wt.prototype.delete=su,Wt.prototype.get=ou,Wt.prototype.has=iu,Wt.prototype.set=cu;function au(c,h){var p=Kn(c)||Cu(c)?El(c.length,String):[],v=p.length,F=!!v;for(var Z in c)Mt.call(c,Z)&&!(F&&(Z=="length"||Nu(Z,v)))&&p.push(Z);return p}function po(c,h,p){var v=c[h];(!(Mt.call(c,h)&&mo(v,p))||p===void 0&&!(h in c))&&(c[h]=p)}function Ve(c,h){for(var p=c.length;p--;)if(mo(c[p][0],h))return p;return-1}function lu(c,h){return c&&bo(h,Xn(h),c)}function qn(c,h,p,v,F,Z,wt){var Q;if(v&&(Q=Z?v(c,F,Z,wt):v(c)),Q!==void 0)return Q;if(!We(c))return c;var Mo=Kn(c);if(Mo){if(Q=vu(c),!h)return Iu(c,Q)}else{var Xt=Bt(c),So=Xt==f||Xt==d;if(Uu(c))return wu(c,h);if(Xt==b||Xt==o||So&&!Z){if(so(c))return Z?c:{};if(Q=Eu(So?{}:c),!h)return Mu(c,lu(Q,c))}else{if(!_[Xt])return Z?c:{};Q=Lu(c,Xt,qn,h)}}wt||(wt=new Wt);var vo=wt.get(c);if(vo)return vo;if(wt.set(c,Q),!Mo)var Eo=p?Su(c):Xn(c);return Sl(Eo||c,function(Jn,Ke){Eo&&(Ke=Jn,Jn=c[Ke]),po(Q,Ke,qn(Jn,h,p,v,Ke,c,wt))}),Q}function uu(c){return We(c)?Cl(c):{}}function fu(c,h,p){var v=h(c);return Kn(c)?v:vl(v,p(c))}function du(c){return Qe.call(c)}function hu(c){if(!We(c)||Du(c))return!1;var h=Io(c)||so(c)?Dl:bl;return h.test(Ut(c))}function gu(c){if(!yo(c))return Ol(c);var h=[];for(var p in Object(c))Mt.call(c,p)&&p!="constructor"&&h.push(p);return h}function wu(c,h){if(h)return c.slice();var p=new c.constructor(c.length);return c.copy(p),p}function Wn(c){var h=new c.constructor(c.byteLength);return new fo(h).set(new fo(c)),h}function pu(c,h){var p=h?Wn(c.buffer):c.buffer;return new c.constructor(p,c.byteOffset,c.byteLength)}function bu(c,h,p){var v=h?p(oo(c),!0):oo(c);return ro(v,Il,new c.constructor)}function xu(c){var h=new c.constructor(c.source,pl.exec(c));return h.lastIndex=c.lastIndex,h}function yu(c,h,p){var v=h?p(io(c),!0):io(c);return ro(v,Ml,new c.constructor)}function mu(c){return wo?Object(wo.call(c)):{}}function Au(c,h){var p=h?Wn(c.buffer):c.buffer;return new c.constructor(p,c.byteOffset,c.length)}function Iu(c,h){var p=-1,v=c.length;for(h||(h=Array(v));++p<v;)h[p]=c[p];return h}function bo(c,h,p,v){p||(p={});for(var F=-1,Z=h.length;++F<Z;){var wt=h[F],Q=void 0;po(p,wt,Q===void 0?c[wt]:Q)}return p}function Mu(c,h){return bo(c,xo(c),h)}function Su(c){return fu(c,Xn,xo)}function qe(c,h){var p=c.__data__;return ju(h)?p[typeof h=="string"?"string":"hash"]:p.map}function Kt(c,h){var p=Ll(c,h);return hu(p)?p:void 0}var xo=ho?Rn(ho,Object):_u,Bt=du;(Yn&&Bt(new Yn(new ArrayBuffer(1)))!=N||ge&&Bt(new ge)!=g||Zn&&Bt(Zn.resolve())!=y||Qn&&Bt(new Qn)!=L||Vn&&Bt(new Vn)!=x)&&(Bt=function(c){var h=Qe.call(c),p=h==b?c.constructor:void 0,v=p?Ut(p):void 0;if(v)switch(v){case _l:return N;case kl:return g;case zl:return y;case Pl:return L;case Hl:return x}return h});function vu(c){var h=c.length,p=c.constructor(h);return h&&typeof c[0]=="string"&&Mt.call(c,"index")&&(p.index=c.index,p.input=c.input),p}function Eu(c){return typeof c.constructor=="function"&&!yo(c)?uu($l(c)):{}}function Lu(c,h,p,v){var F=c.constructor;switch(h){case A:return Wn(c);case a:case l:return new F(+c);case N:return pu(c,v);case B:case D:case O:case dt:case Qt:case $t:case Vt:case Ye:case he:return Au(c,v);case g:return bu(c,v,p);case w:case j:return new F(c);case I:return xu(c);case L:return yu(c,v,p);case E:return mu(c)}}function Nu(c,h){return h=h??s,!!h&&(typeof c=="number"||xl.test(c))&&c>-1&&c%1==0&&c<h}function ju(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}function Du(c){return!!co&&co in c}function yo(c){var h=c&&c.constructor,p=typeof h=="function"&&h.prototype||Ze;return c===p}function Ut(c){if(c!=null){try{return ao.call(c)}catch{}try{return c+""}catch{}}return""}function $u(c){return qn(c,!0,!0)}function mo(c,h){return c===h||c!==c&&h!==h}function Cu(c){return Bu(c)&&Mt.call(c,"callee")&&(!Bl.call(c,"callee")||Qe.call(c)==o)}var Kn=Array.isArray;function Ao(c){return c!=null&&Tu(c.length)&&!Io(c)}function Bu(c){return Ou(c)&&Ao(c)}var Uu=Tl||ku;function Io(c){var h=We(c)?Qe.call(c):"";return h==f||h==d}function Tu(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function We(c){var h=typeof c;return!!c&&(h=="object"||h=="function")}function Ou(c){return!!c&&typeof c=="object"}function Xn(c){return Ao(c)?au(c):gu(c)}function _u(){return[]}function ku(){return!1}t.exports=$u})(ue,ue.exports)),ue.exports}qc();var M;(function(t){t.Int="int",t.UInt="uint",t.Buffer="buffer",t.BoolTrue="true",t.BoolFalse="false",t.PrincipalStandard="address",t.PrincipalContract="contract",t.ResponseOk="ok",t.ResponseErr="err",t.OptionalNone="none",t.OptionalSome="some",t.List="list",t.Tuple="tuple",t.StringASCII="ascii",t.StringUTF8="utf8"})(M||(M={}));var z;(function(t){t[t.int=0]="int",t[t.uint=1]="uint",t[t.buffer=2]="buffer",t[t.true=3]="true",t[t.false=4]="false",t[t.address=5]="address",t[t.contract=6]="contract",t[t.ok=7]="ok",t[t.err=8]="err",t[t.none=9]="none",t[t.some=10]="some",t[t.list=11]="list",t[t.tuple=12]="tuple",t[t.ascii=13]="ascii",t[t.utf8=14]="utf8"})(z||(z={}));function On(t){return z[t]}function K(t,e=!1){switch(t.type){case M.BoolTrue:return!0;case M.BoolFalse:return!1;case M.Int:case M.UInt:return e?t.value.toString():t.value;case M.Buffer:return`0x${t.value}`;case M.OptionalNone:return null;case M.OptionalSome:return fe(t.value);case M.ResponseErr:return fe(t.value);case M.ResponseOk:return fe(t.value);case M.PrincipalStandard:case M.PrincipalContract:return t.value;case M.List:return t.value.map(r=>fe(r));case M.Tuple:const n={};return Object.keys(t.value).forEach(r=>{n[r]=fe(t.value[r])}),n;case M.StringASCII:return t.value;case M.StringUTF8:return t.value}}function fe(t){switch(t.type){case M.ResponseErr:return{type:At(t),value:K(t,!0),success:!1};case M.ResponseOk:return{type:At(t),value:K(t,!0),success:!0};default:return{type:At(t),value:K(t,!0)}}}function At(t){switch(t.type){case M.BoolTrue:case M.BoolFalse:return"bool";case M.Int:return"int";case M.UInt:return"uint";case M.Buffer:return`(buff ${Math.ceil(t.value.length/2)})`;case M.OptionalNone:return"(optional none)";case M.OptionalSome:return`(optional ${At(t.value)})`;case M.ResponseErr:return`(response UnknownType ${At(t.value)})`;case M.ResponseOk:return`(response ${At(t.value)} UnknownType)`;case M.PrincipalStandard:case M.PrincipalContract:return"principal";case M.List:return`(list ${t.value.length} ${t.value.length?At(t.value[0]):"UnknownType"})`;case M.Tuple:return`(tuple ${Object.keys(t.value).map(e=>`(${e} ${At(t.value[e])})`).join(" ")})`;case M.StringASCII:return`(string-ascii ${er(t.value).length})`;case M.StringUTF8:return`(string-utf8 ${Tt(t.value).length})`}}const Wc=()=>({type:M.BoolTrue}),Kc=()=>({type:M.BoolFalse}),Xc=t=>{if(t.byteLength>1048576)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:M.Buffer,value:q(t)}},vs=BigInt("0xffffffffffffffffffffffffffffffff"),Jc=BigInt(0),Es=BigInt("0x7fffffffffffffffffffffffffffffff"),Ls=BigInt("-170141183460469231731687303715884105728"),ta=t=>{typeof t=="string"&&t.toLowerCase().startsWith("0x")&&(t=en(nt(t))),be(t,Uint8Array)&&(t=en(t));const e=pe(t);if(e>Es)throw new RangeError(`Cannot construct clarity integer from value greater than ${Es}`);if(e<Ls)throw new RangeError(`Cannot construct clarity integer form value less than ${Ls}`);return{type:M.Int,value:e}},Ns=t=>{const e=pe(t);if(e<Jc)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(e>vs)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${vs}`);return{type:M.UInt,value:e}};function ea(t){return{type:M.List,value:t}}function na(){return{type:M.OptionalNone}}function ra(t){return{type:M.OptionalSome,value:t}}var Y;(function(t){t[t.Address=0]="Address",t[t.Principal=1]="Principal",t[t.LengthPrefixedString=2]="LengthPrefixedString",t[t.MemoString=3]="MemoString",t[t.Asset=4]="Asset",t[t.PostCondition=5]="PostCondition",t[t.PublicKey=6]="PublicKey",t[t.LengthPrefixedList=7]="LengthPrefixedList",t[t.Payload=8]="Payload",t[t.MessageSignature=9]="MessageSignature",t[t.StructuredDataSignature=10]="StructuredDataSignature",t[t.TransactionAuthField=11]="TransactionAuthField"})(Y||(Y={}));function jt(t,e,n){const r=e||1,s=n||Qi;if(Da(t,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:Y.LengthPrefixedString,content:t,lengthPrefixBytes:r,maxLengthBytes:s}}function sa(t,e,n){return{type:Y.Asset,address:Dt(t),contractName:jt(e),assetName:jt(n)}}function Dt(t){const e=ys.c32addressDecode(t);return{type:Y.Address,version:e[0],hash160:e[1]}}function oa(t,e){const n=Dt(t),r=jt(e);return{type:Y.Principal,prefix:ot.Contract,address:n,contractName:r}}function ia(t){const e=Dt(t);return{type:Y.Principal,prefix:ot.Standard,address:e}}function ze(t){const e=[];return e.push(nt(Je(t.version,1))),e.push(nt(t.hash160)),at(e)}function js(t){const e=be(t,_t)?t:new _t(t),n=tr(q(e.readBytes(1))),r=q(e.readBytes(20));return{type:Y.Address,version:n,hash160:r}}function ca(t){const e=[];return e.push(t.prefix),(t.prefix===ot.Standard||t.prefix===ot.Contract)&&e.push(ze(t.address)),t.prefix===ot.Contract&&e.push(de(t.contractName)),at(e)}function de(t){const e=[],n=Tt(t.content),r=n.byteLength;return e.push(nt(Je(r,t.lengthPrefixBytes))),e.push(n),at(e)}function Ds(t,e,n){e=e||1;const r=be(t,_t)?t:new _t(t),s=tr(q(r.readBytes(e))),o=nn(r.readBytes(s));return jt(o,e,128)}function aa(t){const e=[];return e.push(ze(t.address)),e.push(de(t.contractName)),e.push(de(t.assetName)),at(e)}function la(t){return q(ua(t))}function ua(t){const e=[];if(e.push(t.conditionType),e.push(ca(t.principal)),(t.conditionType===st.Fungible||t.conditionType===st.NonFungible)&&e.push(aa(t.asset)),t.conditionType===st.NonFungible&&e.push(Rt(t.assetName)),e.push(t.conditionCode),t.conditionType===st.STX||t.conditionType===st.Fungible){if(t.amount>BigInt("0xffffffffffffffff"))throw new Yr("The post-condition amount may not be larger than 8 bytes");e.push(No(t.amount,8))}return at(e)}function _n(t){return ys.c32address(t.version,t.hash160)}function $s(t){const[e,n,r]=t.split(/\.|::/);return sa(e,n,r)}function kn(t){if(t.includes(".")){const[e,n]=t.split(".");return oa(e,n)}else return ia(t)}function fa(t){const e=Dt(t);return{type:M.PrincipalStandard,value:_n(e)}}function da(t){return{type:M.PrincipalStandard,value:_n(t)}}function ha(t,e){const n=Dt(t),r=jt(e);return Cs(n,r)}function Cs(t,e){if(Tt(e.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:M.PrincipalContract,value:`${_n(t)}.${e.content}`}}function ga(t){return{type:M.ResponseErr,value:t}}function wa(t){return{type:M.ResponseOk,value:t}}const pa=t=>({type:M.StringASCII,value:t}),Bs=t=>({type:M.StringUTF8,value:t});function ba(t){for(const e in t)if(!$a(e))throw new Error(`"${e}" is not a valid Clarity name`);return{type:M.Tuple,value:t}}function Ft(t){let e;if(typeof t=="string"){const r=t.slice(0,2).toLowerCase()==="0x";e=new _t(nt(r?t.slice(2):t))}else t instanceof Uint8Array?e=new _t(t):e=t;switch(e.readUInt8Enum(z,r=>{throw new yn(`Cannot recognize Clarity Type: ${r}`)})){case z.int:return ta(en(e.readBytes(16)));case z.uint:return Ns(e.readBytes(16));case z.buffer:const r=e.readUInt32BE();return Xc(e.readBytes(r));case z.true:return Wc();case z.false:return Kc();case z.address:const s=js(e);return da(s);case z.contract:const o=js(e),i=Ds(e);return Cs(o,i);case z.ok:return wa(Ft(e));case z.err:return ga(Ft(e));case z.none:return na();case z.some:return ra(Ft(e));case z.list:const a=e.readUInt32BE(),l=[];for(let y=0;y<a;y++)l.push(Ft(e));return ea(l);case z.tuple:const u=e.readUInt32BE(),f={};for(let y=0;y<u;y++){const I=Ds(e).content;if(I===void 0)throw new yn('"content" is undefined');f[I]=Ft(e)}return ba(f);case z.ascii:const d=e.readUInt32BE(),g=Uo(e.readBytes(d));return pa(g);case z.utf8:const w=e.readUInt32BE(),b=nn(e.readBytes(w));return Bs(b);default:throw new yn("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}function ct(t,e){return at([On(t),e])}function xa(t){return new Uint8Array([On(t.type)])}function ya(t){return t.type===M.OptionalNone?new Uint8Array([On(t.type)]):ct(t.type,Rt(t.value))}function ma(t){const e=new Uint8Array(4);return xe(e,Math.ceil(t.value.length/2),0),ct(t.type,rn(e,nt(t.value)))}function Aa(t){const e=tn(Do(BigInt(t.value),BigInt(Vi)),$r);return ct(t.type,e)}function Ia(t){const e=tn(BigInt(t.value),$r);return ct(t.type,e)}function Ma(t){return ct(t.type,ze(Dt(t.value)))}function Sa(t){const[e,n]=Ta(t.value);return ct(t.type,rn(ze(Dt(e)),de(jt(n))))}function va(t){return ct(t.type,Rt(t.value))}function Ea(t){const e=[],n=new Uint8Array(4);xe(n,t.value.length,0),e.push(n);for(const r of t.value){const s=Rt(r);e.push(s)}return ct(t.type,at(e))}function La(t){const e=[],n=new Uint8Array(4);xe(n,Object.keys(t.value).length,0),e.push(n);const r=Object.keys(t.value).sort((s,o)=>s.localeCompare(o));for(const s of r){const o=jt(s);e.push(de(o));const i=Rt(t.value[s]);e.push(i)}return ct(t.type,at(e))}function Us(t,e){const n=[],r=e=="ascii"?er(t.value):Tt(t.value),s=new Uint8Array(4);return xe(s,r.length,0),n.push(s),n.push(r),ct(t.type,at(n))}function Na(t){return Us(t,"ascii")}function ja(t){return Us(t,"utf8")}function Ts(t){return q(Rt(t))}function Rt(t){switch(t.type){case M.BoolTrue:case M.BoolFalse:return xa(t);case M.OptionalNone:case M.OptionalSome:return ya(t);case M.Buffer:return ma(t);case M.UInt:return Ia(t);case M.Int:return Aa(t);case M.PrincipalStandard:return Ma(t);case M.PrincipalContract:return Sa(t);case M.ResponseOk:case M.ResponseErr:return va(t);case M.List:return Ea(t);case M.Tuple:return La(t);case M.StringASCII:return Na(t);case M.StringUTF8:return ja(t);default:throw new Yr("Unable to serialize. Invalid Clarity Value.")}}const Da=(t,e)=>t?Tt(t).length>e:!1;function $a(t){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(t)&&t.length<128}function Ca(t){return`0x${Ts(t)}`}function Ba(t){return Ft(t)}const Ua=t=>{if(t.okay)return Ba(t.result);throw new Error(t.cause)};function Ta(t){const[e,n]=t.split(".");if(!e||!n)throw new Error(`Invalid contract identifier: ${t}`);return[e,n]}const Oa="/v2/contracts/call-read";async function ut({contractName:t,contractAddress:e,functionName:n,functionArgs:r,senderAddress:s,network:o="mainnet",client:i}){const a={sender:s,arguments:r.map(w=>Ca(w))},l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},u=encodeURIComponent(n),f=Object.assign({},Zi(Yi(o)),i),d=`${f.baseUrl}${Oa}/${e}/${t}/${u}`,g=await f.fetch(d,l);if(!g.ok){const w=await g.text().catch(()=>"");throw new Error(`Error calling read-only function. Response ${g.status}: ${g.statusText}. Attempted to fetch ${d} and failed with the message: "${w}"`)}return await g.json().then(Ua)}var zn;(function(t){t[t.eq=1]="eq",t[t.gt=2]="gt",t[t.lt=4]="lt",t[t.gte=3]="gte",t[t.lte=5]="lte",t[t.sent=16]="sent",t[t["not-sent"]=17]="not-sent"})(zn||(zn={}));function _a(t){switch(t.type){case"stx-postcondition":return{type:Y.PostCondition,conditionType:st.STX,principal:t.address==="origin"?{type:Y.Principal,prefix:ot.Origin}:kn(t.address),conditionCode:Pn(t.condition),amount:BigInt(t.amount)};case"ft-postcondition":return{type:Y.PostCondition,conditionType:st.Fungible,principal:t.address==="origin"?{type:Y.Principal,prefix:ot.Origin}:kn(t.address),conditionCode:Pn(t.condition),amount:BigInt(t.amount),asset:$s(t.asset)};case"nft-postcondition":return{type:Y.PostCondition,conditionType:st.NonFungible,principal:t.address==="origin"?{type:Y.Principal,prefix:ot.Origin}:kn(t.address),conditionCode:Pn(t.condition),asset:$s(t.asset),assetName:t.assetId};default:throw new Error("Invalid post condition type")}}function Pn(t){return zn[t]}function Os(t){const e=_a(t);return la(e)}const It=Ns;function Pe(t){const[e,n]=t.split(".");return n?ha(e,n):fa(e)}const He=Bs,_s=Ts;var ka=Object.defineProperty,za=Object.defineProperties,Pa=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,ks=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable,Ps=(t,e,n)=>e in t?ka(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tt=(t,e)=>{for(var n in e||(e={}))ks.call(e,n)&&Ps(t,n,e[n]);if(Fe)for(var n of Fe(e))zs.call(e,n)&&Ps(t,n,e[n]);return t},Gt=(t,e)=>za(t,Pa(e)),Ha=(t,e)=>{var n={};for(var r in t)ks.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fe)for(var r of Fe(t))e.indexOf(r)<0&&zs.call(t,r)&&(n[r]=t[r]);return n},Yt=class Lo extends Error{constructor(e,n,r,s){super(e),this.message=e,this.code=n,this.data=r,this.cause=s,this.name="JsonRpcError",this.message=e,this.code=n,this.data=r,this.cause=s}static fromResponse(e){return new Lo(e.message,e.code,e.data)}toString(){return`${this.name} (${this.code}): ${this.message}${this.data?`: ${JSON.stringify(this.data)}`:""}`}},Fa=(t=>(t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UserRejection=-32e3]="UserRejection",t[t.MethodAddressMismatch=-32001]="MethodAddressMismatch",t[t.MethodAccessDenied=-32002]="MethodAccessDenied",t[t.UnknownError=-31e3]="UnknownError",t[t.UserCanceled=-31001]="UserCanceled",t))(Fa||{}),Hs="asigna-stx",Hn=(t,e)=>new Promise(n=>{function r(s){s.data.source===Hs&&s.data[e]&&(n(s.data[e]),window.removeEventListener("message",r))}window.addEventListener("message",r),window.top.postMessage(Ga(t,e),"*")}),Ra={authenticationRequest:async t=>Hn(t,"authenticationRequest"),transactionRequest:async t=>Hn(t,"transactionRequest"),request:async(t,e)=>Hn(e,t)},Ga=(t,e)=>({source:Hs,[e]:t}),Ya=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=Ra)};Ya();var Za=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"},{id:"FordefiProviders.UtxoProvider",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzEwMTExNCIgZD0iTTAgMGg0MnY0MkgweiIvPgogIDxwYXRoIGQ9Ik0xOS40NyAyNi44OUg1djMuNTdhNC41NyA0LjU3IDAgMCAwIDQuNTggNC41N2g1LjgzbDQuMDYtOC4xNFoiIGZpbGw9IiM3OTk0RkYiLz4KICA8cGF0aCBkPSJNNSAxNy40aDI3LjU4bC0zLjIgNi43OEg1VjE3LjRaIiBmaWxsPSIjNDg2REZGIi8+CiAgPHBhdGggZD0iTTE0LjY3IDdINXY3LjY4aDMzVjdoLTkuNjd2NS43NGgtMlY3aC05LjY3djUuNzRoLTEuOTlWN1oiIGZpbGw9IiM1Q0QxRkEiLz4KPC9zdmc+Cg==",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}],Fs="@stacks/connect",Qa={addresses:{stx:[],btc:[]},version:"0.0.1"},Rs=t=>[...new Map(t.map(e=>[e.address,e])).values()].map(e=>{var n=Ha(e,[]);return"publicKey"in n&&delete n.publicKey,"derivationPath"in n&&delete n.derivationPath,"tweakedPublicKey"in n&&delete n.tweakedPublicKey,n});function Va(t){try{let e=qa()||Qa,n=Gt(tt({},e),{updatedAt:Date.now(),addresses:tt(tt({},e.addresses),t.addresses&&{stx:t.addresses.stx&&Rs([...e.addresses.stx,...t.addresses.stx]),btc:t.addresses.btc&&Rs([...e.addresses.btc,...t.addresses.btc])})});localStorage.setItem(Fs,q(Tt(JSON.stringify(n))))}catch(e){console.warn("Failed to store data in localStorage:",e)}}function qa(){try{let t=localStorage.getItem(Fs);return t?JSON.parse(nn(nt(t))):null}catch(t){return console.warn("Failed to get data from localStorage:",t),null}}async function Gs(t,e,n){var r;try{let s=await t.request(e,n);if("error"in s)throw Yt.fromResponse(s.error);return s.result}catch(s){if(s instanceof Yt)throw s;if("jsonrpc"in s)throw Yt.fromResponse(s.error);let o=(r=s.code)!=null?r:-31e3;throw new Yt(s.message,o,s.data,s)}}function Wa(t){return t?async function(e,n,r){let s=await Gs(e,n,r);if((n==="getAddresses"||n==="wallet_connect")&&"addresses"in s){let{stx:o,btc:i}=sl(s.addresses).reduce((a,l)=>(a[l.address.startsWith("S")?"stx":"btc"].push(l),a),{stx:[],btc:[]});Va({addresses:{stx:o,btc:i}})}return s}:Gs}async function Zt(...t){let{options:e,method:n,params:r}=Ka(t),s=Object.assign({provider:oi(),defaultProviders:Za,forceWalletSelect:!1,persistWalletSelect:!0,enableOverrides:!0,enableLocalStorage:!0},el(e)),o=nl(s.enableOverrides,Wa(s.enableLocalStorage));if(s.provider&&!s.forceWalletSelect){let{method:i,params:a}=Qs(s.provider,n,r,s.enableOverrides);return await o(s.provider,i,qs(a))}if(typeof window<"u")return Hi(),new Promise((i,a)=>{let l=document.createElement("connect-modal");l.defaultProviders=Ys(s.approvedProviderIds,s.defaultProviders),l.installedProviders=Ys(s.approvedProviderIds,si(s.defaultProviders));let u=document.body.style.overflow;document.body.style.overflow="hidden";let f=()=>{l.remove(),document.body.style.overflow=u};l.callback=g=>{f();let w=an(g),{method:b,params:y}=Qs(w,n,r,s.enableOverrides),I=rl(s.persistWalletSelect,g);i(o(w,b,qs(y)).then(I))},l.cancelCallback=()=>{f(),a(new Yt("User canceled the request",-31001))},document.body.appendChild(l);let d=g=>{g.key==="Escape"&&(document.removeEventListener("keydown",d),l.remove(),a(new Yt("User canceled the request",-31001)))};document.addEventListener("keydown",d)})}function Ka(t){return typeof t[0]=="string"?{method:t[0],params:t[1]}:{options:t[0],method:t[1],params:t[2]}}function Ys(t,e){return t?e.filter(n=>t.includes(n.id)):e}function Xa(t){let e=t&&"network"in t?{network:t.network}:void 0;return Zt(Gt(tt({},t),{forceWalletSelect:!0}),"getAddresses",e)}function Re(t){return Ja(t)||tl(t)}function Ja(t){return"signMultipleTransactions"in t&&"createRepeatInscriptions"in t&&!(t!=null&&t.isLeather)&&!(t!=null&&t.isFordefi)}function tl(t){return"isFordefi"in t&&!!t.isFordefi}function Zs(t){return"isLeather"in t&&!!t.isLeather}function el(t){if(t===void 0)return{};let e={};for(let[n,r]of Object.entries(t))r!==void 0&&(e[n]=r);return e}function nl(t,e){return t?async(n,r,s)=>{let o=await e(n,r,s),i=tt({},o);return o!==null&&"txId"in o&&o.txId&&!("txid"in i)&&(i.txid=o.txId),o!==null&&"hex"in o&&o.hex&&typeof o.hex=="string"&&!("psbt"in i)&&(i.psbt=cr.encode(nt(o.hex))),i}:e}function Qs(t,e,n,r=!0){if(!r)return{method:e,params:n};if(Re(t)&&["getAddresses","stx_getAddresses"].includes(e))return{method:"wallet_connect",params:n};if(Re(t)&&e==="sendTransfer"){let s=Gt(tt({},n),{recipients:n.recipients.map(o=>Gt(tt({},o),{amount:Number(o.amount)})),network:void 0});return{method:e,params:s}}if(Re(t)&&e==="signPsbt"){let s=n.signInputs;if(!s)return{method:e,params:n};let o={};for(let a of s)typeof a!="number"&&a.address&&(o[a.address]||(o[a.address]=[]),o[a.address].push(a.index));let i={psbt:n.psbt,signInputs:o,broadcast:n.broadcast};return{method:e,params:i}}if(!Re(t)&&e==="stx_signMessage"){let s=tt({},n);return delete s.publicKey,{method:e,params:s}}if(Zs(t)&&e==="sendTransfer"){let s=Gt(tt({},n),{recipients:n.recipients.map(o=>Gt(tt({},o),{amount:o.amount.toString()}))});return{method:e,params:s}}if(Zs(t)&&e==="signPsbt"){let s={hex:q(cr.decode(n.psbt)),signAtIndex:n.signInputs.map(o=>typeof o=="number"?o:o.index),allowedSighash:n.allowedSighash,broadcast:n.broadcast,network:n.network};return{method:e,params:s}}return{method:e,params:n}}var Vs=["stx-postcondition","ft-postcondition","nft-postcondition"];function qs(t){if(!t||typeof t!="object")return t;let e=tt({},t);for(let[n,r]of Object.entries(t)){if(typeof r=="bigint"){e[n]=r.toString();continue}if(r){if(Array.isArray(r)){e[n]=r.map(s=>typeof s=="bigint"?s.toString():!s||typeof s!="object"||!("type"in s)?s:Vs.includes(s.type)?Os(s):_s(s));continue}typeof r=="object"&&"type"in r&&(e[n]=Vs.includes(r.type)?Os(r):_s(r))}}return e}function rl(t,e){return function(n){if(t)try{ni(e)}catch{}return n}}function sl(t){return t.slice().sort((e,n)=>{let r="purpose"in e&&e.purpose==="payment",s="purpose"in n&&n.purpose==="payment";return r&&!s?-1:!r&&s?1:0})}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var ol=(t=>(t.ContractCall="contract_call",t.ContractDeploy="smart_contract",t.STXTransfer="token_transfer",t))(ol||{}),il=(t=>(t.BUFFER="buffer",t.UINT="uint",t.INT="int",t.PRINCIPAL="principal",t.BOOL="bool",t))(il||{}),cl=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY",t))(cl||{});const Ge="merchant-settings";function al(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}}function Fn(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch{}}const m=(()=>{const t=al(Ge,{});return{net:t.net||"testnet",ca:t.ca||"STZAZZZHB8YPCNBV2ZK30HZQ9F4ZFPVYRRH8RT7N",cn:t.cn||"shopify",ftCa:t.ftCa||"ST1F7QA2MDF17S807EPA36TSS8AMEFY4KA9TVGWXT",ftCn:t.ftCn||"sbtc-token"}})();function ft(){return m.net==="mainnet"?Dr:Ee}function Ws(t){const e=t.trim();if(!e)throw new Error("Amount required");const[n,r=""]=e.split("."),s=(r+"00000000").slice(0,8),o=`${n}${s}`.replace(/^0+(?=\d)/,"");if(!/^\d+$/.test(o))throw new Error("Invalid amount");return BigInt(o||"0")}let et=null;function Ks(){return et}function Xs(t,e){if(!Array.isArray(t))return null;for(const n of t){if(!n)continue;const r=n.address||n.stxAddress||n;if(typeof r=="string"&&/^ST[0-9A-Z]{38}$/.test(r)){if(n.network&&n.network!==e)continue;return r}if(typeof n=="object"&&n.stxAddress){const s=n.stxAddress[e]||n.stxAddress.testnet||n.stxAddress.mainnet;if(typeof s=="string"&&/^ST[0-9A-Z]{38}$/.test(s))return s}}return null}async function X(){if(et)return et;const t=await Zt("stx_getAddresses");console.log("Debug - stx_getAddresses response:",t);const e=Xs(t?.addresses,m.net);if(console.log("Debug - picked address for network",m.net,":",e),et=e||null,!et)throw new Error("No wallet address available");return et}const Js={getSettings(){return{...m}},setNetwork(t){return m.net=t,Fn(Ge,m),{...m}},setContract(t,e){if(!t||!e)throw new Error("Set contract address and name");return m.ca=t.trim(),m.cn=e.trim(),Fn(Ge,m),{...m}},setSbtcToken(t,e){if(!t||!e)throw new Error("Set sBTC token contract address and name");return m.ftCa=t.trim(),m.ftCn=e.trim(),Fn(Ge,m),{...m}},isConnected(){return!!et},getAddress(){return Ks()},async connect(){const t=await Xa({forceWalletSelect:!0,network:m.net});return console.log("Debug - connect result:",t),et=Xs(t?.addresses,m.net),console.log("Debug - selected address after connect:",et),et},disconnect(){et=null},async purchaseWithSbtc(t,e){console.log("purchaseWithSbtc",t,e);const n=Ks();if(!n)throw new Error("Connect wallet first");if(!m.ca||!m.cn)throw console.log("set contract address and name",m.ca,m.cn),new Error("Set contract address and name");const r=e||{cartTotalCents:8e3,shopifyStore:"aydens-dev",cartItemsHash:"abc123def456",customerSession:"guest_"+Date.now()},s=Ws(t),o=`${m.ca}.${m.cn}`,i=await Zt("stx_callContract",{contract:o,functionName:"purchase-with-sbtc",functionArgs:[It(s),It(r.cartTotalCents),He(r.shopifyStore),He(r.cartItemsHash),He(r.customerSession)],address:n,network:m.net,postConditionMode:"allow"}),a=i?.txid||i?.transaction||void 0;if(!a)throw new Error("No txid returned");return a},async prepurchase(t,e){return console.warn("prepurchase() is deprecated. Use purchaseWithSbtc() instead for the new single-step workflow."),this.purchaseWithSbtc(t,e)},async getMyOrders(){const t=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");if(console.log("Debug - sender address:",t),console.log("Debug - network:",m.net),console.log("Debug - contract:",`${m.ca}.${m.cn}`),!t||!/^ST[0-9A-Z]{38}$/.test(t))throw new Error(`Invalid sender address format: ${t}`);const e=ft(),n=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-my-orders",functionArgs:[],senderAddress:t,network:e}),r=K(n);console.log("Debug - get-my-orders raw result:",r);const s=[];if(Array.isArray(r))for(const o of r)console.log("Debug - processing order option:",o),o?.value?.value&&s.push(o.value.value);return console.log("Debug - filtered orders:",s),s},async getMyReceipts(){const t=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");if(console.log("Debug - sender address:",t),console.log("Debug - network:",m.net),console.log("Debug - contract:",`${m.ca}.${m.cn}`),!t||!/^ST[0-9A-Z]{38}$/.test(t))throw new Error(`Invalid sender address format: ${t}`);const e=ft(),n=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-my-receipts",functionArgs:[],senderAddress:t,network:e});return K(n)},async getOrderById(t){const e=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=ft(),r=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-order",functionArgs:[It(BigInt(t))],senderAddress:e,network:n}),s=K(r);return console.log("Debug - get-order result for ID",t,":",s),s},async getUserOrderIds(t){const e=t||await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=ft(),r=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-user-orders",functionArgs:[Pe(e)],senderAddress:e,network:n}),s=K(r);return console.log("Debug - get-user-orders result for",e,":",s),s},async getOrderDetails(t){const e=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=ft(),r=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-order-details",functionArgs:[It(BigInt(t))],senderAddress:e,network:n}),s=K(r);return console.log("Debug - get-order-details result for ID",t,":",s),s},async getOrderCartTotal(t){const e=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=ft(),r=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-order-cart-total",functionArgs:[It(BigInt(t))],senderAddress:e,network:n});return K(r)?.value||null},async getOrderStore(t){const e=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=ft(),r=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-order-store",functionArgs:[It(BigInt(t))],senderAddress:e,network:n});return K(r)?.value||null},async verifyCartHash(t,e){const n=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const r=ft(),s=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"verify-cart-hash",functionArgs:[It(BigInt(t)),He(e)],senderAddress:n,network:r});return K(s)===!0},async initializeOwner(t){const e=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=`${m.ca}.${m.cn}`,r=await Zt("stx_callContract",{contract:n,functionName:"initialize-owner",functionArgs:[Pe(t)],address:e,network:m.net,postConditionMode:"allow"}),s=r?.txid||r?.transaction||void 0;if(!s)throw new Error("No txid returned");return s},async setOwner(t){const e=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const n=`${m.ca}.${m.cn}`,r=await Zt("stx_callContract",{contract:n,functionName:"set-owner",functionArgs:[Pe(t)],address:e,network:m.net,postConditionMode:"allow"}),s=r?.txid||r?.transaction||void 0;if(!s)throw new Error("No txid returned");return s},async getOwner(){const t=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const e=ft(),n=await ut({contractAddress:m.ca,contractName:m.cn,functionName:"get-owner",functionArgs:[],senderAddress:t,network:e});return K(n)?.value||null},async withdrawSbtc(t,e){const n=await X();if(!m.ca||!m.cn)throw new Error("Set contract address and name");const r=Ws(t),s=`${m.ca}.${m.cn}`,o=await Zt("stx_callContract",{contract:s,functionName:"withdraw-sbtc",functionArgs:[It(r),Pe(e)],address:n,network:m.net,postConditionMode:"allow"}),i=o?.txid||o?.transaction||void 0;if(!i)throw new Error("No txid returned");return i}};globalThis.SbtcMerchant=Js;const ll="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTcgNyAxMCAxME0xNyA3IDcgMTciIHN0cm9rZT0iIzI0MjYyOSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==",ul=()=>{const t=!!window.chrome,e=window.navigator,n=e.vendor,r=typeof window.opr<"u",s=e.userAgent.includes("Edge"),o=/CriOS/.exec(e.userAgent),i=e.userAgent.includes("Mobile");return o?!1:t!==null&&typeof t<"u"&&n==="Google Inc."&&r===!1&&s===!1&&i===!1},fl=()=>ul()?"Chrome":window.navigator.userAgent.includes("Firefox")?"Firefox":null,dl=()=>window.navigator.userAgent.includes("Mobile")?window.navigator.userAgent.includes("iPhone")?"IOS":"Android":null,hl='*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;border:0 solid #e5e7eb;box-sizing:border-box}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;}/*! tailwindcss v3.4.14 | MIT License | https://tailwindcss.com*/:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]:where(:not([hidden=until-found])){display:none}:host{all:initial}.modal-container{color:#74777d;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.modal-body{-ms-overflow-style:none;scrollbar-width:none}.modal-body::-webkit-scrollbar{display:none}.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.static{position:static}.fixed{position:fixed}.inset-0{inset:0}.z-\\[8999\\]{z-index:8999}.z-\\[9000\\]{z-index:9000}.mx-auto{margin-left:auto;margin-right:auto}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.box-border{box-sizing:border-box}.flex{display:flex}.aspect-square{aspect-ratio:1/1}.h-full{height:100%}.max-h-\\[calc\\(100\\%-24px\\)\\]{max-height:calc(100% - 24px)}.w-full{width:100%}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.basis-9{flex-basis:2.25rem}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-3{gap:.75rem}.space-x-\\[5px\\]>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(5px*(1 - var(--tw-space-x-reverse)));margin-right:calc(5px*var(--tw-space-x-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(.75rem*var(--tw-space-y-reverse));margin-top:calc(.75rem*(1 - var(--tw-space-y-reverse)))}.space-y-\\[10px\\]>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(10px*var(--tw-space-y-reverse));margin-top:calc(10px*(1 - var(--tw-space-y-reverse)))}.overflow-hidden{overflow:hidden}.overflow-y-scroll{overflow-y:scroll}.rounded-2xl{border-radius:1rem}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:.75rem}.rounded-b-none{border-bottom-left-radius:0;border-bottom-right-radius:0}.border{border-width:1px}.border-\\[\\#333\\]{--tw-border-opacity:1;border-color:rgb(51 51 51/var(--tw-border-opacity))}.border-\\[\\#EFEFF2\\]{--tw-border-opacity:1;border-color:rgb(239 239 242/var(--tw-border-opacity))}.bg-\\[\\#00000040\\]{background-color:#00000040}.bg-\\[\\#323232\\]{--tw-bg-opacity:1;background-color:rgb(50 50 50/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-1{padding:.25rem}.p-6{padding:1.5rem}.p-\\[14px\\]{padding:14px}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1\\.5{padding-bottom:.375rem;padding-top:.375rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.align-text-bottom{vertical-align:text-bottom}.text-\\[9px\\]{font-size:9px}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-medium{font-weight:500}.leading-snug{line-height:1.375}.text-\\[\\#242629\\]{--tw-text-opacity:1;color:rgb(36 38 41/var(--tw-text-opacity))}.text-\\[\\#EFEFEF\\]{--tw-text-opacity:1;color:rgb(239 239 239/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-\\[0_1px_2px_0_\\#0000000A\\]{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-\\[0_1px_2px_0_\\#0000000A\\]{--tw-shadow:0 1px 2px 0 #0000000a;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.shadow-\\[0_4px_5px_0_\\#00000005\\2c 0_16px_40px_0_\\#00000014\\]{--tw-shadow:0 4px 5px 0 #00000005,0 16px 40px 0 #00000014;--tw-shadow-colored:0 4px 5px 0 var(--tw-shadow-color),0 16px 40px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline-\\[\\#FFBD7A\\]{outline-color:#ffbd7a}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0) scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1)) rotate(var(--tw-enter-rotate,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0) scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1)) rotate(var(--tw-exit-rotate,0))}}.animate-in{--tw-enter-opacity:initial;--tw-enter-scale:initial;--tw-enter-rotate:initial;--tw-enter-translate-x:initial;--tw-enter-translate-y:initial;animation-duration:.15s;animation-name:enter}.fade-in{--tw-enter-opacity:0}.slide-in-from-bottom{--tw-enter-translate-y:100%}.hover\\:bg-\\[\\#0C0C0D\\]:hover{--tw-bg-opacity:1;background-color:rgb(12 12 13/var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\:text-\\[\\#242629\\]:hover{--tw-text-opacity:1;color:rgb(36 38 41/var(--tw-text-opacity))}.hover\\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:shadow-\\[0_1px_2px_0_\\#00000010\\]:hover{--tw-shadow:0 1px 2px 0 #00000010;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.hover\\:shadow-\\[0_1px_2px_0_\\#00000010\\]:hover,.hover\\:shadow-\\[0_8px_16px_0_\\#00000020\\]:hover{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:shadow-\\[0_8px_16px_0_\\#00000020\\]:hover{--tw-shadow:0 8px 16px 0 #00000020;--tw-shadow-colored:0 8px 16px 0 var(--tw-shadow-color)}.focus\\:underline:focus{text-decoration-line:underline}.focus\\:outline:focus{outline-style:solid}.focus\\:outline-\\[3px\\]:focus{outline-width:3px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width:768px){.md\\:max-h-\\[calc\\(100\\%-48px\\)\\]{max-height:calc(100% - 48px)}.md\\:w-\\[400px\\]{width:400px}.md\\:items-center{align-items:center}.md\\:justify-center{justify-content:center}.md\\:rounded-b-2xl{border-bottom-left-radius:1rem;border-bottom-right-radius:1rem}.md\\:zoom-in-50{--tw-enter-scale:.5}.md\\:slide-in-from-bottom-0{--tw-enter-translate-y:0px}}',to=class{constructor(t){Ui(this,t),this.defaultProviders=void 0,this.installedProviders=void 0,this.callback=void 0,this.cancelCallback=void 0}handleSelectProvider(t){this.callback(t)}handleCloseModal(){this.cancelCallback()}getBrowserUrl(t){var e;return(e=t.chromeWebStoreUrl)!==null&&e!==void 0?e:t.mozillaAddOnsUrl}getMobileUrl(t){var e;return(e=t.iOSAppStoreUrl)!==null&&e!==void 0?e:t.googlePlayStoreUrl}getInstallUrl(t,e,n){var r,s,o,i,a,l,u,f,d,g;return n==="IOS"?(s=(r=t.iOSAppStoreUrl)!==null&&r!==void 0?r:this.getBrowserUrl(t))!==null&&s!==void 0?s:t.webUrl:e==="Chrome"?(i=(o=t.chromeWebStoreUrl)!==null&&o!==void 0?o:this.getMobileUrl(t))!==null&&i!==void 0?i:t.webUrl:e==="Firefox"?(l=(a=t.mozillaAddOnsUrl)!==null&&a!==void 0?a:this.getMobileUrl(t))!==null&&l!==void 0?l:t.webUrl:n==="Android"?(f=(u=t.googlePlayStoreUrl)!==null&&u!==void 0?u:this.getBrowserUrl(t))!==null&&f!==void 0?f:t.webUrl:(g=(d=this.getBrowserUrl(t))!==null&&d!==void 0?d:t.webUrl)!==null&&g!==void 0?g:this.getMobileUrl(t)}render(){const t=fl(),e=dl(),n=this.defaultProviders.filter(o=>this.installedProviders.findIndex(i=>i.id===o.id)===-1),r=this.installedProviders.length>0,s=n.length>0;return $("div",{class:"modal-container animate-in fade-in fixed inset-0 z-[8999] box-border flex h-full w-full items-end bg-[#00000040] md:items-center md:justify-center"},$("div",{class:"fixed inset-0 z-[8999]",onClick:()=>this.handleCloseModal()}),$("div",{class:"modal-body animate-in md:zoom-in-50 slide-in-from-bottom md:slide-in-from-bottom-0 z-[9000] box-border flex max-h-[calc(100%-24px)] w-full max-w-full cursor-default flex-col overflow-y-scroll rounded-2xl rounded-b-none bg-white p-6 text-sm leading-snug shadow-[0_4px_5px_0_#00000005,0_16px_40px_0_#00000014] md:max-h-[calc(100%-48px)] md:w-[400px] md:rounded-b-2xl"},$("div",{class:"flex flex-col space-y-[10px]"},$("div",{class:"flex items-center"},$("div",{class:"flex-1 text-xl font-medium text-[#242629]"},"Connect a wallet"),$("button",{class:"rounded-full bg-transparent p-1 transition-colors hover:bg-gray-100 active:scale-95",onClick:()=>this.handleCloseModal()},$("span",{class:"sr-only"},"Close popup"),$("img",{src:ll}))),r?$("p",null,"Select the wallet you want to connect to."):$("p",null,"You don't have any wallets in your browser that support this app. You need to install a wallet to proceed.")),!e&&!t&&$("div",{class:"mx-auto mt-4 rounded-xl bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-500"},"Unfortunately, your browser isn't supported"),r&&$("div",{class:"mt-6"},$("p",{class:"mb-4 text-sm font-medium"},"Installed wallets"),$("ul",{class:"space-y-3"},this.installedProviders.map(o=>$("li",{class:"flex items-center gap-3 rounded-[10px] border border-[#EFEFF2] p-[14px]"},$("div",{class:"aspect-square basis-9 overflow-hidden"},$("img",{src:o.icon,class:"h-full w-full rounded-[10px] bg-gray-700"})),$("div",{class:"flex-1"},$("div",{class:"text-sm font-medium text-[#242629]"},o.name),o.webUrl&&$("a",{href:o.webUrl,class:"text-sm",rel:"noopener noreferrer"},new URL(o.webUrl).hostname)),$("button",{class:"rounded-[10px] border border-[#333] bg-[#323232] px-4 py-2 text-sm font-medium text-[#EFEFEF] shadow-[0_1px_2px_0_#0000000A] outline-[#FFBD7A] transition-all hover:bg-[#0C0C0D] hover:text-white hover:shadow-[0_8px_16px_0_#00000020] focus:outline focus:outline-[3px] active:scale-95",onClick:()=>this.handleSelectProvider(o.id)},"Connect"))))),s&&$("div",{class:"mt-6"},r?$("p",{class:"mb-4 text-sm font-medium"},"Other wallets"):$("div",{class:"mb-5 flex justify-between"},$("p",{class:"text-sm font-medium"},"Recommended wallets"),$("a",{class:"flex cursor-pointer items-center space-x-[5px] text-xs transition-colors hover:text-[#242629] hover:underline focus:underline",href:"https://docs.hiro.so/what-is-a-wallet",rel:"noopener noreferrer",target:"_blank"},$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 16 16",fill:"none"},$("path",{stroke:"#74777D","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2",d:"M8.006 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z"}),$("path",{stroke:"#74777D","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2",d:"M5.97 5.9a2.1 2.1 0 0 1 4.08.7c0 1.4-2.1 2.1-2.1 2.1M8.006 11.5h.01"})),$("p",null,"What is a wallet? ",$("span",{class:"align-text-bottom text-[9px]"},"↗")))),$("ul",{class:"space-y-3"},n.map(o=>$("li",{class:"flex items-center gap-3 rounded-[10px] border border-[#EFEFF2] p-[14px]"},$("div",{class:"aspect-square basis-9 overflow-hidden"},$("img",{src:o.icon,class:"h-full w-full rounded-[10px] bg-gray-700"})),$("div",{class:"flex-1"},$("div",{class:"text-sm font-medium text-[#242629]"},o.name),o.webUrl&&$("a",{href:o.webUrl,class:"text-sm",rel:"noopener noreferrer"},new URL(o.webUrl).hostname)),this.getInstallUrl(o,t,e)&&$("a",{class:"rounded-[10px] border border-[#EFEFF2] px-4 py-2 text-sm font-medium shadow-[0_1px_2px_0_#0000000A] outline-[#FFBD7A] transition-colors hover:text-[#242629] hover:shadow-[0_1px_2px_0_#00000010] focus:outline focus:outline-[3px] active:scale-95",href:this.getInstallUrl(o,t,e),rel:"noopener noreferrer",target:"_blank"},o.id==="AsignaProvider"?"Open":"Install"," →")))))))}static get assetsDirs(){return["assets"]}get modalEl(){return wi(this)}};to.style=hl;const gl=Object.freeze(Object.defineProperty({__proto__:null,connect_modal:to},Symbol.toStringTag,{value:"Module"}));return Xe.SbtcMerchant=Js,Object.defineProperty(Xe,Symbol.toStringTag,{value:"Module"}),Xe})({});
//# sourceMappingURL=sbtc-payments.iife.js.map
